"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var axios=_interopDefault(require("axios")),classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Ajax=function(){function e(t){classCallCheck(this,e),this.debug=t.debug,this.logNamespace=t.logNamespace||"[XHR]",this.baseURL=t.baseURL||"",this.clientID=t.clientID,this.timeout=t.timeout||3e4,this.bodyWrapper=t.bodyWrapper||null,this.globalHeaders=t.headers||{},this.http=axios.create({baseURL:this.baseURL,headers:this.globalHeaders,timeout:this.timeout})}return createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="GET",this.performRequest(e,t)}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="POST",this.performRequest(e,t)}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="PUT",this.performRequest(e,t)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="DELETE",this.performRequest(e,t)}},{key:"performRequest",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.method||"GET",a=n.body,i={headers:Object.assign({},this.globalHeaders,n.headers),params:n.query},o=null;a&&(o={},this.bodyWrapper?o[this.bodyWrapper]=_extends({},a):Object.assign(o,_extends({},a))),this.debug&&(console.log(this.logNamespace+" Executing request "+r+" "+e),o&&console.log(this.logNamespace+" body =>",o),console.log(this.logNamespace+" options =>",i));var s=null;switch(r){case"GET":s=this.http.get(e,i);break;case"POST":s=this.http.post(e,o,i);break;case"PUT":s=this.http.put(e,o,i);break;case"DELETE":s=this.http.delete(e,i);break;default:s=this.http.get(e,i)}return s.then(function(e){return e.data}).catch(function(e){if(e.response&&e.response.status)throw t.debug&&console.log(t.logNamespace+" Error =>",e.response),e.response.data;if(e.request){var n={name:"Network Error",status:503,text:"The server did not provide a response."};throw t.debug&&console.log(t.logNamespace+" Network Error =>",n),n}throw t.debug&&console.log(t.logNamespace+" Error =>",e.message),e})}}]),e}(),AnonUser=function e(){classCallCheck(this,e),this.model="User",this.is_logged_in=!1,this.id=null,this.external_id=null,this.username=null,this.display_name="Anonymous",this.hydrate_status_code=null},global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},freeGlobal="object"==typeof global$1&&global$1&&global$1.Object===Object&&global$1;module.exports=freeGlobal;var _freeGlobal=Object.freeze({}),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol$1=_root.Symbol,_Symbol=Symbol$1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag),n=e[symToStringTag];try{e[symToStringTag]=void 0}catch(e){}var r=nativeObjectToString.call(e);return t?e[symToStringTag]=n:delete e[symToStringTag],r}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(e)?_getRawTag(e):_objectToString(e)}var _baseGetTag=baseGetTag;function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject_1(e))return!1;var t=_baseGetTag(e);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction,coreJsData=_root["__core-js_shared__"],_coreJsData=coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(_coreJsData&&_coreJsData.keys&&_coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked,funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _toSource=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$2=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject_1(e)||_isMasked(e))&&(isFunction_1(e)?reIsNative:reIsHostCtor).test(_toSource(e))}var _baseIsNative=baseIsNative;function getValue(e,t){return null==e?void 0:e[t]}var _getValue=getValue;function getNative(e,t){var n=_getValue(e,t);return _baseIsNative(n)?n:void 0}var _getNative=getNative,defineProperty$1=function(){try{var e=_getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),_defineProperty=defineProperty$1;function baseAssignValue(e,t,n){"__proto__"==t&&_defineProperty?_defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var _baseAssignValue=baseAssignValue;function eq(e,t){return e===t||e!=e&&t!=t}var eq_1=eq,objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function assignValue(e,t,n){var r=e[t];hasOwnProperty$2.call(e,t)&&eq_1(r,n)&&(void 0!==n||t in e)||_baseAssignValue(e,t,n)}var _assignValue=assignValue;function copyObject(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),a?_baseAssignValue(n,s,l):_assignValue(n,s,l)}return n}var _copyObject=copyObject;function identity(e){return e}var identity_1=identity;function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var _apply=apply,nativeMax=Math.max;function overRest(e,t,n){return t=nativeMax(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=nativeMax(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(o),_apply(e,this,s)}}var _overRest=overRest;function constant(e){return function(){return e}}var constant_1=constant,baseSetToString=_defineProperty?function(e,t){return _defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:constant_1(t),writable:!0})}:identity_1,_baseSetToString=baseSetToString,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(e){var t=0,n=0;return function(){var r=nativeNow(),a=HOT_SPAN-(r-n);if(n=r,a>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _shortOut=shortOut,setToString=_shortOut(_baseSetToString),_setToString=setToString;function baseRest(e,t){return _setToString(_overRest(e,t,identity_1),e+"")}var _baseRest=baseRest,MAX_SAFE_INTEGER=9007199254740991;function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}var isLength_1=isLength;function isArrayLike(e){return null!=e&&isLength_1(e.length)&&!isFunction_1(e)}var isArrayLike_1=isArrayLike,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var n=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER$1:t)&&("number"==n||"symbol"!=n&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex;function isIterateeCall(e,t,n){if(!isObject_1(n))return!1;var r=typeof t;return!!("number"==r?isArrayLike_1(n)&&_isIndex(t,n.length):"string"==r&&t in n)&&eq_1(n[t],e)}var _isIterateeCall=isIterateeCall;function createAssigner(e){return _baseRest(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,o&&_isIterateeCall(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var s=n[r];s&&e(t,s,r,i)}return t})}var _createAssigner=createAssigner,objectProto$4=Object.prototype;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$4)}var _isPrototype=isPrototype;function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _baseTimes=baseTimes;function isObjectLike(e){return null!=e&&"object"==typeof e}var isObjectLike_1=isObjectLike,argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike_1(e)&&_baseGetTag(e)==argsTag}var _baseIsArguments=baseIsArguments,objectProto$5=Object.prototype,hasOwnProperty$3=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments=_baseIsArguments(function(){return arguments}())?_baseIsArguments:function(e){return isObjectLike_1(e)&&hasOwnProperty$3.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")},isArguments_1=isArguments,isArray=Array.isArray,isArray_1=isArray;function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}function stubFalse(){return!1}var stubFalse_1=stubFalse,isBuffer_1=createCommonjsModule(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,a=r&&r.exports===n?_root.Buffer:void 0,i=(a?a.isBuffer:void 0)||stubFalse_1;e.exports=i}),argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(e){return isObjectLike_1(e)&&isLength_1(e.length)&&!!typedArrayTags[_baseGetTag(e)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var _baseIsTypedArray=baseIsTypedArray;function baseUnary(e){return function(t){return e(t)}}var _baseUnary=baseUnary,_nodeUtil=createCommonjsModule(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,a=r&&r.exports===n&&_freeGlobal.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i}),nodeIsTypedArray=_nodeUtil&&_nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?_baseUnary(nodeIsTypedArray):_baseIsTypedArray,isTypedArray_1=isTypedArray,objectProto$6=Object.prototype,hasOwnProperty$4=objectProto$6.hasOwnProperty;function arrayLikeKeys(e,t){var n=isArray_1(e),r=!n&&isArguments_1(e),a=!n&&!r&&isBuffer_1(e),i=!n&&!r&&!a&&isTypedArray_1(e),o=n||r||a||i,s=o?_baseTimes(e.length,String):[],l=s.length;for(var c in e)!t&&!hasOwnProperty$4.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_isIndex(c,l))||s.push(c);return s}var _arrayLikeKeys=arrayLikeKeys;function overArg(e,t){return function(n){return e(t(n))}}var _overArg=overArg,nativeKeys=_overArg(Object.keys,Object),_nativeKeys=nativeKeys,objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function baseKeys(e){if(!_isPrototype(e))return _nativeKeys(e);var t=[];for(var n in Object(e))hasOwnProperty$5.call(e,n)&&"constructor"!=n&&t.push(n);return t}var _baseKeys=baseKeys;function keys(e){return isArrayLike_1(e)?_arrayLikeKeys(e):_baseKeys(e)}var keys_1=keys,objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty,assign=_createAssigner(function(e,t){if(_isPrototype(t)||isArrayLike_1(t))_copyObject(t,keys_1(t),e);else for(var n in t)hasOwnProperty$6.call(t,n)&&_assignValue(e,n,t[n])}),assign_1=assign;function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var _nativeKeysIn=nativeKeysIn,objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty;function baseKeysIn(e){if(!isObject_1(e))return _nativeKeysIn(e);var t=_isPrototype(e),n=[];for(var r in e)("constructor"!=r||!t&&hasOwnProperty$7.call(e,r))&&n.push(r);return n}var _baseKeysIn=baseKeysIn;function keysIn$1(e){return isArrayLike_1(e)?_arrayLikeKeys(e,!0):_baseKeysIn(e)}var keysIn_1=keysIn$1,assignIn=_createAssigner(function(e,t){_copyObject(t,keysIn_1(t),e)}),assignIn_1=assignIn,assignInWith=_createAssigner(function(e,t,n,r){_copyObject(t,keysIn_1(t),e,r)}),assignInWith_1=assignInWith,assignWith=_createAssigner(function(e,t,n,r){_copyObject(t,keys_1(t),e,r)}),assignWith_1=assignWith,symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike_1(e)&&_baseGetTag(e)==symbolTag}var isSymbol_1=isSymbol,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray_1(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!isSymbol_1(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t))}var _isKey=isKey,nativeCreate=_getNative(Object,"create"),_nativeCreate=nativeCreate;function hashClear(){this.__data__=_nativeCreate?_nativeCreate(null):{},this.size=0}var _hashClear=hashClear;function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete,HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function hashGet(e){var t=this.__data__;if(_nativeCreate){var n=t[e];return n===HASH_UNDEFINED?void 0:n}return hasOwnProperty$8.call(t,e)?t[e]:void 0}var _hashGet=hashGet,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function hashHas(e){var t=this.__data__;return _nativeCreate?void 0!==t[e]:hasOwnProperty$9.call(t,e)}var _hashHas=hashHas,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_nativeCreate&&void 0===t?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet;function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hash.prototype.clear=_hashClear,Hash.prototype.delete=_hashDelete,Hash.prototype.get=_hashGet,Hash.prototype.has=_hashHas,Hash.prototype.set=_hashSet;var _Hash=Hash;function listCacheClear(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear;function assocIndexOf(e,t){for(var n=e.length;n--;)if(eq_1(e[n][0],t))return n;return-1}var _assocIndexOf=assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,n=_assocIndexOf(t,e);return!(n<0)&&(n==t.length-1?t.pop():splice.call(t,n,1),--this.size,!0)}var _listCacheDelete=listCacheDelete;function listCacheGet(e){var t=this.__data__,n=_assocIndexOf(t,e);return n<0?void 0:t[n][1]}var _listCacheGet=listCacheGet;function listCacheHas(e){return _assocIndexOf(this.__data__,e)>-1}var _listCacheHas=listCacheHas;function listCacheSet(e,t){var n=this.__data__,r=_assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var _listCacheSet=listCacheSet;function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ListCache.prototype.clear=_listCacheClear,ListCache.prototype.delete=_listCacheDelete,ListCache.prototype.get=_listCacheGet,ListCache.prototype.has=_listCacheHas,ListCache.prototype.set=_listCacheSet;var _ListCache=ListCache,Map=_getNative(_root,"Map"),_Map=Map;function mapCacheClear(){this.size=0,this.__data__={hash:new _Hash,map:new(_Map||_ListCache),string:new _Hash}}var _mapCacheClear=mapCacheClear;function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var _isKeyable=isKeyable;function getMapData(e,t){var n=e.__data__;return _isKeyable(t)?n["string"==typeof t?"string":"hash"]:n.map}var _getMapData=getMapData;function mapCacheDelete(e){var t=_getMapData(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete;function mapCacheGet(e){return _getMapData(this,e).get(e)}var _mapCacheGet=mapCacheGet;function mapCacheHas(e){return _getMapData(this,e).has(e)}var _mapCacheHas=mapCacheHas;function mapCacheSet(e,t){var n=_getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var _mapCacheSet=mapCacheSet;function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}MapCache.prototype.clear=_mapCacheClear,MapCache.prototype.delete=_mapCacheDelete,MapCache.prototype.get=_mapCacheGet,MapCache.prototype.has=_mapCacheHas,MapCache.prototype.set=_mapCacheSet;var _MapCache=MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(memoize.Cache||_MapCache),n}memoize.Cache=_MapCache;var memoize_1=memoize,MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize_1(e,function(e){return n.size===MAX_MEMOIZE_SIZE&&n.clear(),e}),n=t.cache;return t}var _memoizeCapped=memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=_memoizeCapped(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rePropName,function(e,n,r,a){t.push(r?a.replace(reEscapeChar,"$1"):n||e)}),t}),_stringToPath=stringToPath;function arrayMap(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var _arrayMap=arrayMap,INFINITY=1/0,symbolProto=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(e){if("string"==typeof e)return e;if(isArray_1(e))return _arrayMap(e,baseToString)+"";if(isSymbol_1(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY?"-0":t}var _baseToString=baseToString;function toString(e){return null==e?"":_baseToString(e)}var toString_1=toString;function castPath(e,t){return isArray_1(e)?e:_isKey(e,t)?[e]:_stringToPath(toString_1(e))}var _castPath=castPath,INFINITY$1=1/0;function toKey(e){if("string"==typeof e||isSymbol_1(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY$1?"-0":t}var _toKey=toKey;function baseGet(e,t){for(var n=0,r=(t=_castPath(t,e)).length;null!=e&&n<r;)e=e[_toKey(t[n++])];return n&&n==r?e:void 0}var _baseGet=baseGet;function get$1(e,t,n){var r=null==e?void 0:_baseGet(e,t);return void 0===r?n:r}var get_1=get$1;function baseAt(e,t){for(var n=-1,r=t.length,a=Array(r),i=null==e;++n<r;)a[n]=i?void 0:get_1(e,t[n]);return a}var _baseAt=baseAt;function arrayPush(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var _arrayPush=arrayPush,spreadableSymbol=_Symbol?_Symbol.isConcatSpreadable:void 0;function isFlattenable(e){return isArray_1(e)||isArguments_1(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}var _isFlattenable=isFlattenable;function baseFlatten(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=_isFlattenable),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?baseFlatten(s,t-1,n,r,a):_arrayPush(a,s):r||(a[a.length]=s)}return a}var _baseFlatten=baseFlatten;function flatten(e){return(null==e?0:e.length)?_baseFlatten(e,1):[]}var flatten_1=flatten;function flatRest(e){return _setToString(_overRest(e,void 0,flatten_1),e+"")}var _flatRest=flatRest,at=_flatRest(_baseAt),at_1=at;function baseAssign(e,t){return e&&_copyObject(t,keys_1(t),e)}var _baseAssign=baseAssign,objectCreate=Object.create,baseCreate=function(){function e(){}return function(t){if(!isObject_1(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),_baseCreate=baseCreate;function create(e,t){var n=_baseCreate(e);return null==t?n:_baseAssign(n,t)}var create_1=create,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,defaults$1=_baseRest(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&_isIterateeCall(t[0],t[1],a)&&(r=1);++n<r;)for(var i=t[n],o=keysIn_1(i),s=-1,l=o.length;++s<l;){var c=o[s],u=e[c];(void 0===u||eq_1(u,objectProto$c[c])&&!hasOwnProperty$a.call(e,c))&&(e[c]=i[c])}return e}),defaults_1=defaults$1;function stackClear(){this.__data__=new _ListCache,this.size=0}var _stackClear=stackClear;function stackDelete(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var _stackDelete=stackDelete;function stackGet(e){return this.__data__.get(e)}var _stackGet=stackGet;function stackHas(e){return this.__data__.has(e)}var _stackHas=stackHas,LARGE_ARRAY_SIZE=200;function stackSet(e,t){var n=this.__data__;if(n instanceof _ListCache){var r=n.__data__;if(!_Map||r.length<LARGE_ARRAY_SIZE-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _MapCache(r)}return n.set(e,t),this.size=n.size,this}var _stackSet=stackSet;function Stack(e){var t=this.__data__=new _ListCache(e);this.size=t.size}Stack.prototype.clear=_stackClear,Stack.prototype.delete=_stackDelete,Stack.prototype.get=_stackGet,Stack.prototype.has=_stackHas,Stack.prototype.set=_stackSet;var _Stack=Stack;function assignMergeValue(e,t,n){(void 0===n||eq_1(e[t],n))&&(void 0!==n||t in e)||_baseAssignValue(e,t,n)}var _assignMergeValue=assignMergeValue;function createBaseFor(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===n(i[l],l,i))break}return t}}var _createBaseFor=createBaseFor,baseFor=_createBaseFor(),_baseFor=baseFor,_cloneBuffer=createCommonjsModule(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,a=r&&r.exports===n?_root.Buffer:void 0,i=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}),Uint8Array=_root.Uint8Array,_Uint8Array=Uint8Array;function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new _Uint8Array(t).set(new _Uint8Array(e)),t}var _cloneArrayBuffer=cloneArrayBuffer;function cloneTypedArray(e,t){var n=t?_cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var _cloneTypedArray=cloneTypedArray;function copyArray(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var _copyArray=copyArray,getPrototype=_overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype;function initCloneObject(e){return"function"!=typeof e.constructor||_isPrototype(e)?{}:_baseCreate(_getPrototype(e))}var _initCloneObject=initCloneObject;function isArrayLikeObject(e){return isObjectLike_1(e)&&isArrayLike_1(e)}var isArrayLikeObject_1=isArrayLikeObject,objectTag$1="[object Object]",funcProto$2=Function.prototype,objectProto$d=Object.prototype,funcToString$2=funcProto$2.toString,hasOwnProperty$b=objectProto$d.hasOwnProperty,objectCtorString=funcToString$2.call(Object);function isPlainObject(e){if(!isObjectLike_1(e)||_baseGetTag(e)!=objectTag$1)return!1;var t=_getPrototype(e);if(null===t)return!0;var n=hasOwnProperty$b.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&funcToString$2.call(n)==objectCtorString}var isPlainObject_1=isPlainObject;function safeGet(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _safeGet=safeGet;function toPlainObject(e){return _copyObject(e,keysIn_1(e))}var toPlainObject_1=toPlainObject;function baseMergeDeep(e,t,n,r,a,i,o){var s=_safeGet(e,n),l=_safeGet(t,n),c=o.get(l);if(c)_assignMergeValue(e,n,c);else{var u=i?i(s,l,n+"",e,t,o):void 0,_=void 0===u;if(_){var f=isArray_1(l),d=!f&&isBuffer_1(l),p=!f&&!d&&isTypedArray_1(l);u=l,f||d||p?isArray_1(s)?u=s:isArrayLikeObject_1(s)?u=_copyArray(s):d?(_=!1,u=_cloneBuffer(l,!0)):p?(_=!1,u=_cloneTypedArray(l,!0)):u=[]:isPlainObject_1(l)||isArguments_1(l)?(u=s,isArguments_1(s)?u=toPlainObject_1(s):isObject_1(s)&&!isFunction_1(s)||(u=_initCloneObject(l))):_=!1}_&&(o.set(l,u),a(u,l,r,i,o),o.delete(l)),_assignMergeValue(e,n,u)}}var _baseMergeDeep=baseMergeDeep;function baseMerge(e,t,n,r,a){e!==t&&_baseFor(t,function(i,o){if(a||(a=new _Stack),isObject_1(i))_baseMergeDeep(e,t,o,n,baseMerge,r,a);else{var s=r?r(_safeGet(e,o),i,o+"",e,t,a):void 0;void 0===s&&(s=i),_assignMergeValue(e,o,s)}},keysIn_1)}var _baseMerge=baseMerge;function customDefaultsMerge(e,t,n,r,a,i){return isObject_1(e)&&isObject_1(t)&&(i.set(t,e),_baseMerge(e,t,void 0,customDefaultsMerge,i),i.delete(t)),e}var _customDefaultsMerge=customDefaultsMerge,mergeWith=_createAssigner(function(e,t,n,r){_baseMerge(e,t,n,r)}),mergeWith_1=mergeWith,defaultsDeep=_baseRest(function(e){return e.push(void 0,_customDefaultsMerge),_apply(mergeWith_1,void 0,e)}),defaultsDeep_1=defaultsDeep;function baseToPairs(e,t){return _arrayMap(t,function(t){return[t,e[t]]})}var _baseToPairs=baseToPairs,DataView=_getNative(_root,"DataView"),_DataView=DataView,Promise$1=_getNative(_root,"Promise"),_Promise=Promise$1,Set$1=_getNative(_root,"Set"),_Set=Set$1,WeakMap=_getNative(_root,"WeakMap"),_WeakMap=WeakMap,mapTag$1="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=_toSource(_DataView),mapCtorString=_toSource(_Map),promiseCtorString=_toSource(_Promise),setCtorString=_toSource(_Set),weakMapCtorString=_toSource(_WeakMap),getTag=_baseGetTag;(_DataView&&getTag(new _DataView(new ArrayBuffer(1)))!=dataViewTag$1||_Map&&getTag(new _Map)!=mapTag$1||_Promise&&getTag(_Promise.resolve())!=promiseTag||_Set&&getTag(new _Set)!=setTag$1||_WeakMap&&getTag(new _WeakMap)!=weakMapTag$1)&&(getTag=function(e){var t=_baseGetTag(e),n=t==objectTag$2?e.constructor:void 0,r=n?_toSource(n):"";if(r)switch(r){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag$1}return t});var _getTag=getTag;function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}var _mapToArray=mapToArray;function setToPairs(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}var _setToPairs=setToPairs,mapTag$2="[object Map]",setTag$2="[object Set]";function createToPairs(e){return function(t){var n=_getTag(t);return n==mapTag$2?_mapToArray(t):n==setTag$2?_setToPairs(t):_baseToPairs(t,e(t))}}var _createToPairs=createToPairs,toPairs=_createToPairs(keys_1),toPairs_1=toPairs,entries=toPairs_1,toPairsIn=_createToPairs(keysIn_1),toPairsIn_1=toPairsIn,entriesIn=toPairsIn_1,extend=assignIn_1,extendWith=assignInWith_1;function baseFindKey(e,t,n){var r;return n(e,function(e,n,a){if(t(e,n,a))return r=n,!1}),r}var _baseFindKey=baseFindKey;function baseForOwn(e,t){return e&&_baseFor(e,t,keys_1)}var _baseForOwn=baseForOwn,HASH_UNDEFINED$2="__lodash_hash_undefined__";function setCacheAdd(e){return this.__data__.set(e,HASH_UNDEFINED$2),this}var _setCacheAdd=setCacheAdd;function setCacheHas(e){return this.__data__.has(e)}var _setCacheHas=setCacheHas;function SetCache(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _MapCache;++t<n;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=_setCacheAdd,SetCache.prototype.has=_setCacheHas;var _SetCache=SetCache;function arraySome(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var _arraySome=arraySome;function cacheHas(e,t){return e.has(t)}var _cacheHas=cacheHas,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(e,t,n,r,a,i){var o=n&COMPARE_PARTIAL_FLAG,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,_=!0,f=n&COMPARE_UNORDERED_FLAG?new _SetCache:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var d=e[u],p=t[u];if(r)var g=o?r(p,d,u,t,e,i):r(d,p,u,e,t,i);if(void 0!==g){if(g)continue;_=!1;break}if(f){if(!_arraySome(t,function(e,t){if(!_cacheHas(f,t)&&(d===e||a(d,e,n,r,i)))return f.push(t)})){_=!1;break}}else if(d!==p&&!a(d,p,n,r,i)){_=!1;break}}return i.delete(e),i.delete(t),_}var _equalArrays=equalArrays;function setToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var _setToArray=setToArray,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$3="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$3="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto$1=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag(e,t,n,r,a,i,o){switch(n){case dataViewTag$2:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag$1:return!(e.byteLength!=t.byteLength||!i(new _Uint8Array(e),new _Uint8Array(t)));case boolTag$1:case dateTag$1:case numberTag$1:return eq_1(+e,+t);case errorTag$1:return e.name==t.name&&e.message==t.message;case regexpTag$1:case stringTag$1:return e==t+"";case mapTag$3:var s=_mapToArray;case setTag$3:var l=r&COMPARE_PARTIAL_FLAG$1;if(s||(s=_setToArray),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=COMPARE_UNORDERED_FLAG$1,o.set(e,t);var u=_equalArrays(s(e),s(t),r,a,i,o);return o.delete(e),u;case symbolTag$1:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(t)}return!1}var _equalByTag=equalByTag;function baseGetAllKeys(e,t,n){var r=t(e);return isArray_1(e)?r:_arrayPush(r,n(e))}var _baseGetAllKeys=baseGetAllKeys;function arrayFilter(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var _arrayFilter=arrayFilter;function stubArray(){return[]}var stubArray_1=stubArray,objectProto$e=Object.prototype,propertyIsEnumerable$1=objectProto$e.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(e){return null==e?[]:(e=Object(e),_arrayFilter(nativeGetSymbols(e),function(t){return propertyIsEnumerable$1.call(e,t)}))}:stubArray_1,_getSymbols=getSymbols;function getAllKeys(e){return _baseGetAllKeys(e,keys_1,_getSymbols)}var _getAllKeys=getAllKeys,COMPARE_PARTIAL_FLAG$2=1,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty;function equalObjects(e,t,n,r,a,i){var o=n&COMPARE_PARTIAL_FLAG$2,s=_getAllKeys(e),l=s.length;if(l!=_getAllKeys(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:hasOwnProperty$c.call(t,u)))return!1}var _=i.get(e);if(_&&i.get(t))return _==t;var f=!0;i.set(e,t),i.set(t,e);for(var d=o;++c<l;){var p=e[u=s[c]],g=t[u];if(r)var v=o?r(g,p,u,t,e,i):r(p,g,u,e,t,i);if(!(void 0===v?p===g||a(p,g,n,r,i):v)){f=!1;break}d||(d="constructor"==u)}if(f&&!d){var b=e.constructor,A=t.constructor;b!=A&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A)&&(f=!1)}return i.delete(e),i.delete(t),f}var _equalObjects=equalObjects,COMPARE_PARTIAL_FLAG$3=1,argsTag$2="[object Arguments]",arrayTag$1="[object Array]",objectTag$3="[object Object]",objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty;function baseIsEqualDeep(e,t,n,r,a,i){var o=isArray_1(e),s=isArray_1(t),l=o?arrayTag$1:_getTag(e),c=s?arrayTag$1:_getTag(t),u=(l=l==argsTag$2?objectTag$3:l)==objectTag$3,_=(c=c==argsTag$2?objectTag$3:c)==objectTag$3,f=l==c;if(f&&isBuffer_1(e)){if(!isBuffer_1(t))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new _Stack),o||isTypedArray_1(e)?_equalArrays(e,t,n,r,a,i):_equalByTag(e,t,l,n,r,a,i);if(!(n&COMPARE_PARTIAL_FLAG$3)){var d=u&&hasOwnProperty$d.call(e,"__wrapped__"),p=_&&hasOwnProperty$d.call(t,"__wrapped__");if(d||p){var g=d?e.value():e,v=p?t.value():t;return i||(i=new _Stack),a(g,v,n,r,i)}}return!!f&&(i||(i=new _Stack),_equalObjects(e,t,n,r,a,i))}var _baseIsEqualDeep=baseIsEqualDeep;function baseIsEqual(e,t,n,r,a){return e===t||(null==e||null==t||!isObjectLike_1(e)&&!isObjectLike_1(t)?e!=e&&t!=t:_baseIsEqualDeep(e,t,n,r,baseIsEqual,a))}var _baseIsEqual=baseIsEqual,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2;function baseIsMatch(e,t,n,r){var a=n.length,i=a,o=!r;if(null==e)return!i;for(e=Object(e);a--;){var s=n[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){var l=(s=n[a])[0],c=e[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var _=new _Stack;if(r)var f=r(c,u,l,e,t,_);if(!(void 0===f?_baseIsEqual(u,c,COMPARE_PARTIAL_FLAG$4|COMPARE_UNORDERED_FLAG$2,r,_):f))return!1}}return!0}var _baseIsMatch=baseIsMatch;function isStrictComparable(e){return e==e&&!isObject_1(e)}var _isStrictComparable=isStrictComparable;function getMatchData(e){for(var t=keys_1(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,_isStrictComparable(a)]}return t}var _getMatchData=getMatchData;function matchesStrictComparable(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var _matchesStrictComparable=matchesStrictComparable;function baseMatches(e){var t=_getMatchData(e);return 1==t.length&&t[0][2]?_matchesStrictComparable(t[0][0],t[0][1]):function(n){return n===e||_baseIsMatch(n,e,t)}}var _baseMatches=baseMatches;function baseHasIn(e,t){return null!=e&&t in Object(e)}var _baseHasIn=baseHasIn;function hasPath(e,t,n){for(var r=-1,a=(t=_castPath(t,e)).length,i=!1;++r<a;){var o=_toKey(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&isLength_1(a)&&_isIndex(o,a)&&(isArray_1(e)||isArguments_1(e))}var _hasPath=hasPath;function hasIn(e,t){return null!=e&&_hasPath(e,t,_baseHasIn)}var hasIn_1=hasIn,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function baseMatchesProperty(e,t){return _isKey(e)&&_isStrictComparable(t)?_matchesStrictComparable(_toKey(e),t):function(n){var r=get_1(n,e);return void 0===r&&r===t?hasIn_1(n,e):_baseIsEqual(t,r,COMPARE_PARTIAL_FLAG$5|COMPARE_UNORDERED_FLAG$3)}}var _baseMatchesProperty=baseMatchesProperty;function baseProperty(e){return function(t){return null==t?void 0:t[e]}}var _baseProperty=baseProperty;function basePropertyDeep(e){return function(t){return _baseGet(t,e)}}var _basePropertyDeep=basePropertyDeep;function property(e){return _isKey(e)?_baseProperty(_toKey(e)):_basePropertyDeep(e)}var property_1=property;function baseIteratee(e){return"function"==typeof e?e:null==e?identity_1:"object"==typeof e?isArray_1(e)?_baseMatchesProperty(e[0],e[1]):_baseMatches(e):property_1(e)}var _baseIteratee=baseIteratee;function findKey(e,t){return _baseFindKey(e,_baseIteratee(t,3),_baseForOwn)}var findKey_1=findKey,baseForRight=_createBaseFor(!0),_baseForRight=baseForRight;function baseForOwnRight(e,t){return e&&_baseForRight(e,t,keys_1)}var _baseForOwnRight=baseForOwnRight;function findLastKey(e,t){return _baseFindKey(e,_baseIteratee(t,3),_baseForOwnRight)}var findLastKey_1=findLastKey;function castFunction(e){return"function"==typeof e?e:identity_1}var _castFunction=castFunction;function forIn(e,t){return null==e?e:_baseFor(e,_castFunction(t),keysIn_1)}var forIn_1=forIn;function forInRight(e,t){return null==e?e:_baseForRight(e,_castFunction(t),keysIn_1)}var forInRight_1=forInRight;function forOwn(e,t){return e&&_baseForOwn(e,_castFunction(t))}var forOwn_1=forOwn;function forOwnRight(e,t){return e&&_baseForOwnRight(e,_castFunction(t))}var forOwnRight_1=forOwnRight;function baseFunctions(e,t){return _arrayFilter(t,function(t){return isFunction_1(e[t])})}var _baseFunctions=baseFunctions;function functions(e){return null==e?[]:_baseFunctions(e,keys_1(e))}var functions_1=functions;function functionsIn(e){return null==e?[]:_baseFunctions(e,keysIn_1(e))}var functionsIn_1=functionsIn,objectProto$h=Object.prototype,hasOwnProperty$e=objectProto$h.hasOwnProperty;function baseHas(e,t){return null!=e&&hasOwnProperty$e.call(e,t)}var _baseHas=baseHas;function has(e,t){return null!=e&&_hasPath(e,t,_baseHas)}var has_1=has;function baseInverter(e,t,n,r){return _baseForOwn(e,function(e,a,i){t(r,n(e),a,i)}),r}var _baseInverter=baseInverter;function createInverter(e,t){return function(n,r){return _baseInverter(n,e,t(r),{})}}var _createInverter=createInverter,objectProto$i=Object.prototype,nativeObjectToString$2=objectProto$i.toString,invert=_createInverter(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=nativeObjectToString$2.call(t)),e[t]=n},constant_1(identity_1)),invert_1=invert,objectProto$j=Object.prototype,hasOwnProperty$f=objectProto$j.hasOwnProperty,nativeObjectToString$3=objectProto$j.toString,invertBy=_createInverter(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=nativeObjectToString$3.call(t)),hasOwnProperty$f.call(e,t)?e[t].push(n):e[t]=[n]},_baseIteratee),invertBy_1=invertBy;function last(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var last_1=last;function baseSlice(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var _baseSlice=baseSlice;function parent(e,t){return t.length<2?e:_baseGet(e,_baseSlice(t,0,-1))}var _parent=parent;function baseInvoke(e,t,n){t=_castPath(t,e);var r=null==(e=_parent(e,t))?e:e[_toKey(last_1(t))];return null==r?void 0:_apply(r,e,n)}var _baseInvoke=baseInvoke,invoke=_baseRest(_baseInvoke),invoke_1=invoke;function mapKeys(e,t){var n={};return t=_baseIteratee(t,3),_baseForOwn(e,function(e,r,a){_baseAssignValue(n,t(e,r,a),e)}),n}var mapKeys_1=mapKeys;function mapValues(e,t){var n={};return t=_baseIteratee(t,3),_baseForOwn(e,function(e,r,a){_baseAssignValue(n,r,t(e,r,a))}),n}var mapValues_1=mapValues,merge=_createAssigner(function(e,t,n){_baseMerge(e,t,n)}),merge_1=merge;function arrayEach(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var _arrayEach=arrayEach;function baseAssignIn(e,t){return e&&_copyObject(t,keysIn_1(t),e)}var _baseAssignIn=baseAssignIn;function copySymbols(e,t){return _copyObject(e,_getSymbols(e),t)}var _copySymbols=copySymbols,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols$1?function(e){for(var t=[];e;)_arrayPush(t,_getSymbols(e)),e=_getPrototype(e);return t}:stubArray_1,_getSymbolsIn=getSymbolsIn;function copySymbolsIn(e,t){return _copyObject(e,_getSymbolsIn(e),t)}var _copySymbolsIn=copySymbolsIn;function getAllKeysIn(e){return _baseGetAllKeys(e,keysIn_1,_getSymbolsIn)}var _getAllKeysIn=getAllKeysIn,objectProto$k=Object.prototype,hasOwnProperty$g=objectProto$k.hasOwnProperty;function initCloneArray(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty$g.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var _initCloneArray=initCloneArray;function cloneDataView(e,t){var n=t?_cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var _cloneDataView=cloneDataView,reFlags=/\w*$/;function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var _cloneRegExp=cloneRegExp,symbolProto$2=_Symbol?_Symbol.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function cloneSymbol(e){return symbolValueOf$1?Object(symbolValueOf$1.call(e)):{}}var _cloneSymbol=cloneSymbol,boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$4="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(e,t,n){var r=e.constructor;switch(t){case arrayBufferTag$2:return _cloneArrayBuffer(e);case boolTag$2:case dateTag$2:return new r(+e);case dataViewTag$3:return _cloneDataView(e,n);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return _cloneTypedArray(e,n);case mapTag$4:return new r;case numberTag$2:case stringTag$2:return new r(e);case regexpTag$2:return _cloneRegExp(e);case setTag$4:return new r;case symbolTag$2:return _cloneSymbol(e)}}var _initCloneByTag=initCloneByTag,mapTag$5="[object Map]";function baseIsMap(e){return isObjectLike_1(e)&&_getTag(e)==mapTag$5}var _baseIsMap=baseIsMap,nodeIsMap=_nodeUtil&&_nodeUtil.isMap,isMap=nodeIsMap?_baseUnary(nodeIsMap):_baseIsMap,isMap_1=isMap,setTag$5="[object Set]";function baseIsSet(e){return isObjectLike_1(e)&&_getTag(e)==setTag$5}var _baseIsSet=baseIsSet,nodeIsSet=_nodeUtil&&_nodeUtil.isSet,isSet=nodeIsSet?_baseUnary(nodeIsSet):_baseIsSet,isSet_1=isSet,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag$3="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",mapTag$6="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$6="[object Set]",stringTag$3="[object String]",symbolTag$3="[object Symbol]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",cloneableTags={};function baseClone(e,t,n,r,a,i){var o,s=t&CLONE_DEEP_FLAG,l=t&CLONE_FLAT_FLAG,c=t&CLONE_SYMBOLS_FLAG;if(n&&(o=a?n(e,r,a,i):n(e)),void 0!==o)return o;if(!isObject_1(e))return e;var u=isArray_1(e);if(u){if(o=_initCloneArray(e),!s)return _copyArray(e,o)}else{var _=_getTag(e),f=_==funcTag$2||_==genTag$1;if(isBuffer_1(e))return _cloneBuffer(e,s);if(_==objectTag$4||_==argsTag$3||f&&!a){if(o=l||f?{}:_initCloneObject(e),!s)return l?_copySymbolsIn(e,_baseAssignIn(o,e)):_copySymbols(e,_baseAssign(o,e))}else{if(!cloneableTags[_])return a?e:{};o=_initCloneByTag(e,_,s)}}i||(i=new _Stack);var d=i.get(e);if(d)return d;i.set(e,o),isSet_1(e)?e.forEach(function(r){o.add(baseClone(r,t,n,r,e,i))}):isMap_1(e)&&e.forEach(function(r,a){o.set(a,baseClone(r,t,n,a,e,i))});var p=c?l?_getAllKeysIn:_getAllKeys:l?keysIn:keys_1,g=u?void 0:p(e);return _arrayEach(g||e,function(r,a){g&&(r=e[a=r]),_assignValue(o,a,baseClone(r,t,n,a,e,i))}),o}cloneableTags[argsTag$3]=cloneableTags[arrayTag$2]=cloneableTags[arrayBufferTag$3]=cloneableTags[dataViewTag$4]=cloneableTags[boolTag$3]=cloneableTags[dateTag$3]=cloneableTags[float32Tag$2]=cloneableTags[float64Tag$2]=cloneableTags[int8Tag$2]=cloneableTags[int16Tag$2]=cloneableTags[int32Tag$2]=cloneableTags[mapTag$6]=cloneableTags[numberTag$3]=cloneableTags[objectTag$4]=cloneableTags[regexpTag$3]=cloneableTags[setTag$6]=cloneableTags[stringTag$3]=cloneableTags[symbolTag$3]=cloneableTags[uint8Tag$2]=cloneableTags[uint8ClampedTag$2]=cloneableTags[uint16Tag$2]=cloneableTags[uint32Tag$2]=!0,cloneableTags[errorTag$2]=cloneableTags[funcTag$2]=cloneableTags[weakMapTag$2]=!1;var _baseClone=baseClone;function baseUnset(e,t){return t=_castPath(t,e),null==(e=_parent(e,t))||delete e[_toKey(last_1(t))]}var _baseUnset=baseUnset;function customOmitClone(e){return isPlainObject_1(e)?void 0:e}var _customOmitClone=customOmitClone,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$1=4,omit=_flatRest(function(e,t){var n={};if(null==e)return n;var r=!1;t=_arrayMap(t,function(t){return t=_castPath(t,e),r||(r=t.length>1),t}),_copyObject(e,_getAllKeysIn(e),n),r&&(n=_baseClone(n,CLONE_DEEP_FLAG$1|CLONE_FLAT_FLAG$1|CLONE_SYMBOLS_FLAG$1,_customOmitClone));for(var a=t.length;a--;)_baseUnset(n,t[a]);return n}),omit_1=omit,FUNC_ERROR_TEXT$1="Expected a function";function negate(e){if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$1);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var negate_1=negate;function baseSet(e,t,n,r){if(!isObject_1(e))return e;for(var a=-1,i=(t=_castPath(t,e)).length,o=i-1,s=e;null!=s&&++a<i;){var l=_toKey(t[a]),c=n;if(a!=o){var u=s[l];void 0===(c=r?r(u,l,s):void 0)&&(c=isObject_1(u)?u:_isIndex(t[a+1])?[]:{})}_assignValue(s,l,c),s=s[l]}return e}var _baseSet=baseSet;function basePickBy(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],s=_baseGet(e,o);n(s,o)&&_baseSet(i,_castPath(o,e),s)}return i}var _basePickBy=basePickBy;function pickBy(e,t){if(null==e)return{};var n=_arrayMap(_getAllKeysIn(e),function(e){return[e]});return t=_baseIteratee(t),_basePickBy(e,n,function(e,n){return t(e,n[0])})}var pickBy_1=pickBy;function omitBy(e,t){return pickBy_1(e,negate_1(_baseIteratee(t)))}var omitBy_1=omitBy;function basePick(e,t){return _basePickBy(e,t,function(t,n){return hasIn_1(e,n)})}var _basePick=basePick,pick=_flatRest(function(e,t){return null==e?{}:_basePick(e,t)}),pick_1=pick;function result(e,t,n){var r=-1,a=(t=_castPath(t,e)).length;for(a||(a=1,e=void 0);++r<a;){var i=null==e?void 0:e[_toKey(t[r])];void 0===i&&(r=a,i=n),e=isFunction_1(i)?i.call(e):i}return e}var result_1=result;function set$1(e,t,n){return null==e?e:_baseSet(e,t,n)}var set_1=set$1;function setWith(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:_baseSet(e,t,n,r)}var setWith_1=setWith;function transform(e,t,n){var r=isArray_1(e),a=r||isBuffer_1(e)||isTypedArray_1(e);if(t=_baseIteratee(t,4),null==n){var i=e&&e.constructor;n=a?r?new i:[]:isObject_1(e)&&isFunction_1(i)?_baseCreate(_getPrototype(e)):{}}return(a?_arrayEach:_baseForOwn)(e,function(e,r,a){return t(n,e,r,a)}),n}var transform_1=transform;function unset(e,t){return null==e||_baseUnset(e,t)}var unset_1=unset;function baseUpdate(e,t,n,r){return _baseSet(e,t,n(_baseGet(e,t)),r)}var _baseUpdate=baseUpdate;function update(e,t,n){return null==e?e:_baseUpdate(e,t,_castFunction(n))}var update_1=update;function updateWith(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:_baseUpdate(e,t,_castFunction(n),r)}var updateWith_1=updateWith;function baseValues(e,t){return _arrayMap(t,function(t){return e[t]})}var _baseValues=baseValues;function values(e){return null==e?[]:_baseValues(e,keys_1(e))}var values_1=values;function valuesIn(e){return null==e?[]:_baseValues(e,keysIn_1(e))}var valuesIn_1=valuesIn,object={assign:assign_1,assignIn:assignIn_1,assignInWith:assignInWith_1,assignWith:assignWith_1,at:at_1,create:create_1,defaults:defaults_1,defaultsDeep:defaultsDeep_1,entries:entries,entriesIn:entriesIn,extend:extend,extendWith:extendWith,findKey:findKey_1,findLastKey:findLastKey_1,forIn:forIn_1,forInRight:forInRight_1,forOwn:forOwn_1,forOwnRight:forOwnRight_1,functions:functions_1,functionsIn:functionsIn_1,get:get_1,has:has_1,hasIn:hasIn_1,invert:invert_1,invertBy:invertBy_1,invoke:invoke_1,keys:keys_1,keysIn:keysIn_1,mapKeys:mapKeys_1,mapValues:mapValues_1,merge:merge_1,mergeWith:mergeWith_1,omit:omit_1,omitBy:omitBy_1,pick:pick_1,pickBy:pickBy_1,result:result_1,set:set_1,setWith:setWith_1,toPairs:toPairs_1,toPairsIn:toPairsIn_1,transform:transform_1,unset:unset_1,update:update_1,updateWith:updateWith_1,values:values_1,valuesIn:valuesIn_1};function castArray(){if(!arguments.length)return[];var e=arguments[0];return isArray_1(e)?e:[e]}var castArray_1=castArray,CLONE_SYMBOLS_FLAG$2=4;function clone(e){return _baseClone(e,CLONE_SYMBOLS_FLAG$2)}var clone_1=clone,CLONE_DEEP_FLAG$2=1,CLONE_SYMBOLS_FLAG$3=4;function cloneDeep(e){return _baseClone(e,CLONE_DEEP_FLAG$2|CLONE_SYMBOLS_FLAG$3)}var cloneDeep_1=cloneDeep,CLONE_DEEP_FLAG$3=1,CLONE_SYMBOLS_FLAG$4=4;function cloneDeepWith(e,t){return _baseClone(e,CLONE_DEEP_FLAG$3|CLONE_SYMBOLS_FLAG$4,t="function"==typeof t?t:void 0)}var cloneDeepWith_1=cloneDeepWith,CLONE_SYMBOLS_FLAG$5=4;function cloneWith(e,t){return _baseClone(e,CLONE_SYMBOLS_FLAG$5,t="function"==typeof t?t:void 0)}var cloneWith_1=cloneWith;function baseConformsTo(e,t,n){var r=n.length;if(null==e)return!r;for(e=Object(e);r--;){var a=n[r],i=t[a],o=e[a];if(void 0===o&&!(a in e)||!i(o))return!1}return!0}var _baseConformsTo=baseConformsTo;function conformsTo(e,t){return null==t||_baseConformsTo(e,t,keys_1(t))}var conformsTo_1=conformsTo;function baseGt(e,t){return e>t}var _baseGt=baseGt,NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol_1(e))return NAN;if(isObject_1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject_1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var toNumber_1=toNumber;function createRelationalOperation(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=toNumber_1(t),n=toNumber_1(n)),e(t,n)}}var _createRelationalOperation=createRelationalOperation,gt=_createRelationalOperation(_baseGt),gt_1=gt,gte=_createRelationalOperation(function(e,t){return e>=t}),gte_1=gte,arrayBufferTag$4="[object ArrayBuffer]";function baseIsArrayBuffer(e){return isObjectLike_1(e)&&_baseGetTag(e)==arrayBufferTag$4}var _baseIsArrayBuffer=baseIsArrayBuffer,nodeIsArrayBuffer=_nodeUtil&&_nodeUtil.isArrayBuffer,isArrayBuffer=nodeIsArrayBuffer?_baseUnary(nodeIsArrayBuffer):_baseIsArrayBuffer,isArrayBuffer_1=isArrayBuffer,boolTag$4="[object Boolean]";function isBoolean(e){return!0===e||!1===e||isObjectLike_1(e)&&_baseGetTag(e)==boolTag$4}var isBoolean_1=isBoolean,dateTag$4="[object Date]";function baseIsDate(e){return isObjectLike_1(e)&&_baseGetTag(e)==dateTag$4}var _baseIsDate=baseIsDate,nodeIsDate=_nodeUtil&&_nodeUtil.isDate,isDate=nodeIsDate?_baseUnary(nodeIsDate):_baseIsDate,isDate_1=isDate;function isElement(e){return isObjectLike_1(e)&&1===e.nodeType&&!isPlainObject_1(e)}var isElement_1=isElement,mapTag$7="[object Map]",setTag$7="[object Set]",objectProto$l=Object.prototype,hasOwnProperty$h=objectProto$l.hasOwnProperty;function isEmpty(e){if(null==e)return!0;if(isArrayLike_1(e)&&(isArray_1(e)||"string"==typeof e||"function"==typeof e.splice||isBuffer_1(e)||isTypedArray_1(e)||isArguments_1(e)))return!e.length;var t=_getTag(e);if(t==mapTag$7||t==setTag$7)return!e.size;if(_isPrototype(e))return!_baseKeys(e).length;for(var n in e)if(hasOwnProperty$h.call(e,n))return!1;return!0}var isEmpty_1=isEmpty;function isEqual(e,t){return _baseIsEqual(e,t)}var isEqual_1=isEqual;function isEqualWith(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?_baseIsEqual(e,t,void 0,n):!!r}var isEqualWith_1=isEqualWith,domExcTag="[object DOMException]",errorTag$3="[object Error]";function isError(e){if(!isObjectLike_1(e))return!1;var t=_baseGetTag(e);return t==errorTag$3||t==domExcTag||"string"==typeof e.message&&"string"==typeof e.name&&!isPlainObject_1(e)}var isError_1=isError,nativeIsFinite=_root.isFinite;function isFinite(e){return"number"==typeof e&&nativeIsFinite(e)}var _isFinite=isFinite,INFINITY$2=1/0,MAX_INTEGER=1.7976931348623157e308;function toFinite(e){return e?(e=toNumber_1(e))===INFINITY$2||e===-INFINITY$2?(e<0?-1:1)*MAX_INTEGER:e==e?e:0:0===e?e:0}var toFinite_1=toFinite;function toInteger(e){var t=toFinite_1(e),n=t%1;return t==t?n?t-n:t:0}var toInteger_1=toInteger;function isInteger(e){return"number"==typeof e&&e==toInteger_1(e)}var isInteger_1=isInteger;function isMatch(e,t){return e===t||_baseIsMatch(e,t,_getMatchData(t))}var isMatch_1=isMatch;function isMatchWith(e,t,n){return n="function"==typeof n?n:void 0,_baseIsMatch(e,t,_getMatchData(t),n)}var isMatchWith_1=isMatchWith,numberTag$4="[object Number]";function isNumber(e){return"number"==typeof e||isObjectLike_1(e)&&_baseGetTag(e)==numberTag$4}var isNumber_1=isNumber;function isNaN(e){return isNumber_1(e)&&e!=+e}var _isNaN=isNaN,isMaskable=_coreJsData?isFunction_1:stubFalse_1,_isMaskable=isMaskable,CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function isNative(e){if(_isMaskable(e))throw new Error(CORE_ERROR_TEXT);return _baseIsNative(e)}var isNative_1=isNative;function isNil(e){return null==e}var isNil_1=isNil;function isNull(e){return null===e}var isNull_1=isNull,regexpTag$4="[object RegExp]";function baseIsRegExp(e){return isObjectLike_1(e)&&_baseGetTag(e)==regexpTag$4}var _baseIsRegExp=baseIsRegExp,nodeIsRegExp=_nodeUtil&&_nodeUtil.isRegExp,isRegExp=nodeIsRegExp?_baseUnary(nodeIsRegExp):_baseIsRegExp,isRegExp_1=isRegExp,MAX_SAFE_INTEGER$2=9007199254740991;function isSafeInteger(e){return isInteger_1(e)&&e>=-MAX_SAFE_INTEGER$2&&e<=MAX_SAFE_INTEGER$2}var isSafeInteger_1=isSafeInteger,stringTag$4="[object String]";function isString(e){return"string"==typeof e||!isArray_1(e)&&isObjectLike_1(e)&&_baseGetTag(e)==stringTag$4}var isString_1=isString;function isUndefined(e){return void 0===e}var isUndefined_1=isUndefined,weakMapTag$3="[object WeakMap]";function isWeakMap(e){return isObjectLike_1(e)&&_getTag(e)==weakMapTag$3}var isWeakMap_1=isWeakMap,weakSetTag="[object WeakSet]";function isWeakSet(e){return isObjectLike_1(e)&&_baseGetTag(e)==weakSetTag}var isWeakSet_1=isWeakSet;function baseLt(e,t){return e<t}var _baseLt=baseLt,lt=_createRelationalOperation(_baseLt),lt_1=lt,lte=_createRelationalOperation(function(e,t){return e<=t}),lte_1=lte;function iteratorToArray(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}var _iteratorToArray=iteratorToArray;function asciiToArray(e){return e.split("")}var _asciiToArray=asciiToArray,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsZWJ="\\u200d",reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");function hasUnicode(e){return reHasUnicode.test(e)}var _hasUnicode=hasUnicode,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo="["+rsComboRange$1+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange$1+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange$1+"]?",rsOptJoin="(?:"+rsZWJ$1+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(e){return e.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray;function stringToArray(e){return _hasUnicode(e)?_unicodeToArray(e):_asciiToArray(e)}var _stringToArray=stringToArray,mapTag$8="[object Map]",setTag$8="[object Set]",symIterator=_Symbol?_Symbol.iterator:void 0;function toArray$1(e){if(!e)return[];if(isArrayLike_1(e))return isString_1(e)?_stringToArray(e):_copyArray(e);if(symIterator&&e[symIterator])return _iteratorToArray(e[symIterator]());var t=_getTag(e);return(t==mapTag$8?_mapToArray:t==setTag$8?_setToArray:values_1)(e)}var toArray_1=toArray$1;function baseClamp(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}var _baseClamp=baseClamp,MAX_ARRAY_LENGTH=4294967295;function toLength(e){return e?_baseClamp(toInteger_1(e),0,MAX_ARRAY_LENGTH):0}var toLength_1=toLength,MAX_SAFE_INTEGER$3=9007199254740991;function toSafeInteger(e){return e?_baseClamp(toInteger_1(e),-MAX_SAFE_INTEGER$3,MAX_SAFE_INTEGER$3):0===e?e:0}var toSafeInteger_1=toSafeInteger,lang={castArray:castArray_1,clone:clone_1,cloneDeep:cloneDeep_1,cloneDeepWith:cloneDeepWith_1,cloneWith:cloneWith_1,conformsTo:conformsTo_1,eq:eq_1,gt:gt_1,gte:gte_1,isArguments:isArguments_1,isArray:isArray_1,isArrayBuffer:isArrayBuffer_1,isArrayLike:isArrayLike_1,isArrayLikeObject:isArrayLikeObject_1,isBoolean:isBoolean_1,isBuffer:isBuffer_1,isDate:isDate_1,isElement:isElement_1,isEmpty:isEmpty_1,isEqual:isEqual_1,isEqualWith:isEqualWith_1,isError:isError_1,isFinite:_isFinite,isFunction:isFunction_1,isInteger:isInteger_1,isLength:isLength_1,isMap:isMap_1,isMatch:isMatch_1,isMatchWith:isMatchWith_1,isNaN:_isNaN,isNative:isNative_1,isNil:isNil_1,isNull:isNull_1,isNumber:isNumber_1,isObject:isObject_1,isObjectLike:isObjectLike_1,isPlainObject:isPlainObject_1,isRegExp:isRegExp_1,isSafeInteger:isSafeInteger_1,isSet:isSet_1,isString:isString_1,isSymbol:isSymbol_1,isTypedArray:isTypedArray_1,isUndefined:isUndefined_1,isWeakMap:isWeakMap_1,isWeakSet:isWeakSet_1,lt:lt_1,lte:lte_1,toArray:toArray_1,toFinite:toFinite_1,toInteger:toInteger_1,toLength:toLength_1,toNumber:toNumber_1,toPlainObject:toPlainObject_1,toSafeInteger:toSafeInteger_1,toString:toString_1},nativeCeil=Math.ceil,nativeMax$1=Math.max;function chunk(e,t,n){t=(n?_isIterateeCall(e,t,n):void 0===t)?1:nativeMax$1(toInteger_1(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var a=0,i=0,o=Array(nativeCeil(r/t));a<r;)o[i++]=_baseSlice(e,a,a+=t);return o}var chunk_1=chunk;function compact(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a}var compact_1=compact;function concat(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return _arrayPush(isArray_1(n)?_copyArray(n):[n],_baseFlatten(t,1))}var concat_1=concat;function baseFindIndex(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var _baseFindIndex=baseFindIndex;function baseIsNaN(e){return e!=e}var _baseIsNaN=baseIsNaN;function strictIndexOf(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var _strictIndexOf=strictIndexOf;function baseIndexOf(e,t,n){return t==t?_strictIndexOf(e,t,n):_baseFindIndex(e,_baseIsNaN,n)}var _baseIndexOf=baseIndexOf;function arrayIncludes(e,t){return!!(null==e?0:e.length)&&_baseIndexOf(e,t,0)>-1}var _arrayIncludes=arrayIncludes;function arrayIncludesWith(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith,LARGE_ARRAY_SIZE$1=200;function baseDifference(e,t,n,r){var a=-1,i=_arrayIncludes,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=_arrayMap(t,_baseUnary(n))),r?(i=_arrayIncludesWith,o=!1):t.length>=LARGE_ARRAY_SIZE$1&&(i=_cacheHas,o=!1,t=new _SetCache(t));e:for(;++a<s;){var u=e[a],_=null==n?u:n(u);if(u=r||0!==u?u:0,o&&_==_){for(var f=c;f--;)if(t[f]===_)continue e;l.push(u)}else i(t,_,r)||l.push(u)}return l}var _baseDifference=baseDifference,difference=_baseRest(function(e,t){return isArrayLikeObject_1(e)?_baseDifference(e,_baseFlatten(t,1,isArrayLikeObject_1,!0)):[]}),difference_1=difference,differenceBy=_baseRest(function(e,t){var n=last_1(t);return isArrayLikeObject_1(n)&&(n=void 0),isArrayLikeObject_1(e)?_baseDifference(e,_baseFlatten(t,1,isArrayLikeObject_1,!0),_baseIteratee(n,2)):[]}),differenceBy_1=differenceBy,differenceWith=_baseRest(function(e,t){var n=last_1(t);return isArrayLikeObject_1(n)&&(n=void 0),isArrayLikeObject_1(e)?_baseDifference(e,_baseFlatten(t,1,isArrayLikeObject_1,!0),void 0,n):[]}),differenceWith_1=differenceWith;function drop(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:toInteger_1(t),_baseSlice(e,t<0?0:t,r)):[]}var drop_1=drop;function dropRight(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:toInteger_1(t),_baseSlice(e,0,(t=r-t)<0?0:t)):[]}var dropRight_1=dropRight;function baseWhile(e,t,n,r){for(var a=e.length,i=r?a:-1;(r?i--:++i<a)&&t(e[i],i,e););return n?_baseSlice(e,r?0:i,r?i+1:a):_baseSlice(e,r?i+1:0,r?a:i)}var _baseWhile=baseWhile;function dropRightWhile(e,t){return e&&e.length?_baseWhile(e,_baseIteratee(t,3),!0,!0):[]}var dropRightWhile_1=dropRightWhile;function dropWhile(e,t){return e&&e.length?_baseWhile(e,_baseIteratee(t,3),!0):[]}var dropWhile_1=dropWhile;function baseFill(e,t,n,r){var a=e.length;for((n=toInteger_1(n))<0&&(n=-n>a?0:a+n),(r=void 0===r||r>a?a:toInteger_1(r))<0&&(r+=a),r=n>r?0:toLength_1(r);n<r;)e[n++]=t;return e}var _baseFill=baseFill;function fill(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&_isIterateeCall(e,t,n)&&(n=0,r=a),_baseFill(e,t,n,r)):[]}var fill_1=fill,nativeMax$2=Math.max;function findIndex(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:toInteger_1(n);return a<0&&(a=nativeMax$2(r+a,0)),_baseFindIndex(e,_baseIteratee(t,3),a)}var findIndex_1=findIndex,nativeMax$3=Math.max,nativeMin=Math.min;function findLastIndex(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return void 0!==n&&(a=toInteger_1(n),a=n<0?nativeMax$3(r+a,0):nativeMin(a,r-1)),_baseFindIndex(e,_baseIteratee(t,3),a,!0)}var findLastIndex_1=findLastIndex;function head(e){return e&&e.length?e[0]:void 0}var head_1=head,first=head_1,INFINITY$3=1/0;function flattenDeep(e){return(null==e?0:e.length)?_baseFlatten(e,INFINITY$3):[]}var flattenDeep_1=flattenDeep;function flattenDepth(e,t){return(null==e?0:e.length)?(t=void 0===t?1:toInteger_1(t),_baseFlatten(e,t)):[]}var flattenDepth_1=flattenDepth;function fromPairs(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r}var fromPairs_1=fromPairs,nativeMax$4=Math.max;function indexOf(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:toInteger_1(n);return a<0&&(a=nativeMax$4(r+a,0)),_baseIndexOf(e,t,a)}var indexOf_1=indexOf;function initial(e){return(null==e?0:e.length)?_baseSlice(e,0,-1):[]}var initial_1=initial,nativeMin$1=Math.min;function baseIntersection(e,t,n){for(var r=n?_arrayIncludesWith:_arrayIncludes,a=e[0].length,i=e.length,o=i,s=Array(i),l=1/0,c=[];o--;){var u=e[o];o&&t&&(u=_arrayMap(u,_baseUnary(t))),l=nativeMin$1(u.length,l),s[o]=!n&&(t||a>=120&&u.length>=120)?new _SetCache(o&&u):void 0}u=e[0];var _=-1,f=s[0];e:for(;++_<a&&c.length<l;){var d=u[_],p=t?t(d):d;if(d=n||0!==d?d:0,!(f?_cacheHas(f,p):r(c,p,n))){for(o=i;--o;){var g=s[o];if(!(g?_cacheHas(g,p):r(e[o],p,n)))continue e}f&&f.push(p),c.push(d)}}return c}var _baseIntersection=baseIntersection;function castArrayLikeObject(e){return isArrayLikeObject_1(e)?e:[]}var _castArrayLikeObject=castArrayLikeObject,intersection=_baseRest(function(e){var t=_arrayMap(e,_castArrayLikeObject);return t.length&&t[0]===e[0]?_baseIntersection(t):[]}),intersection_1=intersection,intersectionBy=_baseRest(function(e){var t=last_1(e),n=_arrayMap(e,_castArrayLikeObject);return t===last_1(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?_baseIntersection(n,_baseIteratee(t,2)):[]}),intersectionBy_1=intersectionBy,intersectionWith=_baseRest(function(e){var t=last_1(e),n=_arrayMap(e,_castArrayLikeObject);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?_baseIntersection(n,void 0,t):[]}),intersectionWith_1=intersectionWith,arrayProto$1=Array.prototype,nativeJoin=arrayProto$1.join;function join(e,t){return null==e?"":nativeJoin.call(e,t)}var join_1=join;function strictLastIndexOf(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}var _strictLastIndexOf=strictLastIndexOf,nativeMax$5=Math.max,nativeMin$2=Math.min;function lastIndexOf(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return void 0!==n&&(a=(a=toInteger_1(n))<0?nativeMax$5(r+a,0):nativeMin$2(a,r-1)),t==t?_strictLastIndexOf(e,t,a):_baseFindIndex(e,_baseIsNaN,a,!0)}var lastIndexOf_1=lastIndexOf;function baseNth(e,t){var n=e.length;if(n)return _isIndex(t+=t<0?n:0,n)?e[t]:void 0}var _baseNth=baseNth;function nth(e,t){return e&&e.length?_baseNth(e,toInteger_1(t)):void 0}var nth_1=nth;function baseIndexOfWith(e,t,n,r){for(var a=n-1,i=e.length;++a<i;)if(r(e[a],t))return a;return-1}var _baseIndexOfWith=baseIndexOfWith,arrayProto$2=Array.prototype,splice$1=arrayProto$2.splice;function basePullAll(e,t,n,r){var a=r?_baseIndexOfWith:_baseIndexOf,i=-1,o=t.length,s=e;for(e===t&&(t=_copyArray(t)),n&&(s=_arrayMap(e,_baseUnary(n)));++i<o;)for(var l=0,c=t[i],u=n?n(c):c;(l=a(s,u,l,r))>-1;)s!==e&&splice$1.call(s,l,1),splice$1.call(e,l,1);return e}var _basePullAll=basePullAll;function pullAll(e,t){return e&&e.length&&t&&t.length?_basePullAll(e,t):e}var pullAll_1=pullAll,pull=_baseRest(pullAll_1),pull_1=pull;function pullAllBy(e,t,n){return e&&e.length&&t&&t.length?_basePullAll(e,t,_baseIteratee(n,2)):e}var pullAllBy_1=pullAllBy;function pullAllWith(e,t,n){return e&&e.length&&t&&t.length?_basePullAll(e,t,void 0,n):e}var pullAllWith_1=pullAllWith,arrayProto$3=Array.prototype,splice$2=arrayProto$3.splice;function basePullAt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==i){var i=a;_isIndex(a)?splice$2.call(e,a,1):_baseUnset(e,a)}}return e}var _basePullAt=basePullAt;function compareAscending(e,t){if(e!==t){var n=void 0!==e,r=null===e,a=e==e,i=isSymbol_1(e),o=void 0!==t,s=null===t,l=t==t,c=isSymbol_1(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!a)return 1;if(!r&&!i&&!c&&e<t||c&&n&&a&&!r&&!i||s&&n&&a||!o&&a||!l)return-1}return 0}var _compareAscending=compareAscending,pullAt=_flatRest(function(e,t){var n=null==e?0:e.length,r=_baseAt(e,t);return _basePullAt(e,_arrayMap(t,function(e){return _isIndex(e,n)?+e:e}).sort(_compareAscending)),r}),pullAt_1=pullAt;function remove(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],i=e.length;for(t=_baseIteratee(t,3);++r<i;){var o=e[r];t(o,r,e)&&(n.push(o),a.push(r))}return _basePullAt(e,a),n}var remove_1=remove,arrayProto$4=Array.prototype,nativeReverse=arrayProto$4.reverse;function reverse(e){return null==e?e:nativeReverse.call(e)}var reverse_1=reverse;function slice(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&_isIterateeCall(e,t,n)?(t=0,n=r):(t=null==t?0:toInteger_1(t),n=void 0===n?r:toInteger_1(n)),_baseSlice(e,t,n)):[]}var slice_1=slice,MAX_ARRAY_LENGTH$1=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH$1-1,nativeFloor=Math.floor,nativeMin$3=Math.min;function baseSortedIndexBy(e,t,n,r){t=n(t);for(var a=0,i=null==e?0:e.length,o=t!=t,s=null===t,l=isSymbol_1(t),c=void 0===t;a<i;){var u=nativeFloor((a+i)/2),_=n(e[u]),f=void 0!==_,d=null===_,p=_==_,g=isSymbol_1(_);if(o)var v=r||p;else v=c?p&&(r||f):s?p&&f&&(r||!d):l?p&&f&&!d&&(r||!g):!d&&!g&&(r?_<=t:_<t);v?a=u+1:i=u}return nativeMin$3(i,MAX_ARRAY_INDEX)}var _baseSortedIndexBy=baseSortedIndexBy,MAX_ARRAY_LENGTH$2=4294967295,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH$2>>>1;function baseSortedIndex(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t==t&&a<=HALF_MAX_ARRAY_LENGTH){for(;r<a;){var i=r+a>>>1,o=e[i];null!==o&&!isSymbol_1(o)&&(n?o<=t:o<t)?r=i+1:a=i}return a}return _baseSortedIndexBy(e,t,identity_1,n)}var _baseSortedIndex=baseSortedIndex;function sortedIndex(e,t){return _baseSortedIndex(e,t)}var sortedIndex_1=sortedIndex;function sortedIndexBy(e,t,n){return _baseSortedIndexBy(e,t,_baseIteratee(n,2))}var sortedIndexBy_1=sortedIndexBy;function sortedIndexOf(e,t){var n=null==e?0:e.length;if(n){var r=_baseSortedIndex(e,t);if(r<n&&eq_1(e[r],t))return r}return-1}var sortedIndexOf_1=sortedIndexOf;function sortedLastIndex(e,t){return _baseSortedIndex(e,t,!0)}var sortedLastIndex_1=sortedLastIndex;function sortedLastIndexBy(e,t,n){return _baseSortedIndexBy(e,t,_baseIteratee(n,2),!0)}var sortedLastIndexBy_1=sortedLastIndexBy;function sortedLastIndexOf(e,t){if(null==e?0:e.length){var n=_baseSortedIndex(e,t,!0)-1;if(eq_1(e[n],t))return n}return-1}var sortedLastIndexOf_1=sortedLastIndexOf;function baseSortedUniq(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!eq_1(s,l)){var l=s;i[a++]=0===o?0:o}}return i}var _baseSortedUniq=baseSortedUniq;function sortedUniq(e){return e&&e.length?_baseSortedUniq(e):[]}var sortedUniq_1=sortedUniq;function sortedUniqBy(e,t){return e&&e.length?_baseSortedUniq(e,_baseIteratee(t,2)):[]}var sortedUniqBy_1=sortedUniqBy;function tail(e){var t=null==e?0:e.length;return t?_baseSlice(e,1,t):[]}var tail_1=tail;function take(e,t,n){return e&&e.length?(t=n||void 0===t?1:toInteger_1(t),_baseSlice(e,0,t<0?0:t)):[]}var take_1=take;function takeRight(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:toInteger_1(t),_baseSlice(e,(t=r-t)<0?0:t,r)):[]}var takeRight_1=takeRight;function takeRightWhile(e,t){return e&&e.length?_baseWhile(e,_baseIteratee(t,3),!1,!0):[]}var takeRightWhile_1=takeRightWhile;function takeWhile(e,t){return e&&e.length?_baseWhile(e,_baseIteratee(t,3)):[]}var takeWhile_1=takeWhile;function noop(){}var noop_1=noop,INFINITY$4=1/0,createSet=_Set&&1/_setToArray(new _Set([,-0]))[1]==INFINITY$4?function(e){return new _Set(e)}:noop_1,_createSet=createSet,LARGE_ARRAY_SIZE$2=200;function baseUniq(e,t,n){var r=-1,a=_arrayIncludes,i=e.length,o=!0,s=[],l=s;if(n)o=!1,a=_arrayIncludesWith;else if(i>=LARGE_ARRAY_SIZE$2){var c=t?null:_createSet(e);if(c)return _setToArray(c);o=!1,a=_cacheHas,l=new _SetCache}else l=t?[]:s;e:for(;++r<i;){var u=e[r],_=t?t(u):u;if(u=n||0!==u?u:0,o&&_==_){for(var f=l.length;f--;)if(l[f]===_)continue e;t&&l.push(_),s.push(u)}else a(l,_,n)||(l!==s&&l.push(_),s.push(u))}return s}var _baseUniq=baseUniq,union=_baseRest(function(e){return _baseUniq(_baseFlatten(e,1,isArrayLikeObject_1,!0))}),union_1=union,unionBy=_baseRest(function(e){var t=last_1(e);return isArrayLikeObject_1(t)&&(t=void 0),_baseUniq(_baseFlatten(e,1,isArrayLikeObject_1,!0),_baseIteratee(t,2))}),unionBy_1=unionBy,unionWith=_baseRest(function(e){var t=last_1(e);return t="function"==typeof t?t:void 0,_baseUniq(_baseFlatten(e,1,isArrayLikeObject_1,!0),void 0,t)}),unionWith_1=unionWith;function uniq(e){return e&&e.length?_baseUniq(e):[]}var uniq_1=uniq;function uniqBy(e,t){return e&&e.length?_baseUniq(e,_baseIteratee(t,2)):[]}var uniqBy_1=uniqBy;function uniqWith(e,t){return t="function"==typeof t?t:void 0,e&&e.length?_baseUniq(e,void 0,t):[]}var uniqWith_1=uniqWith,nativeMax$6=Math.max;function unzip(e){if(!e||!e.length)return[];var t=0;return e=_arrayFilter(e,function(e){if(isArrayLikeObject_1(e))return t=nativeMax$6(e.length,t),!0}),_baseTimes(t,function(t){return _arrayMap(e,_baseProperty(t))})}var unzip_1=unzip;function unzipWith(e,t){if(!e||!e.length)return[];var n=unzip_1(e);return null==t?n:_arrayMap(n,function(e){return _apply(t,void 0,e)})}var unzipWith_1=unzipWith,without=_baseRest(function(e,t){return isArrayLikeObject_1(e)?_baseDifference(e,t):[]}),without_1=without;function baseXor(e,t,n){var r=e.length;if(r<2)return r?_baseUniq(e[0]):[];for(var a=-1,i=Array(r);++a<r;)for(var o=e[a],s=-1;++s<r;)s!=a&&(i[a]=_baseDifference(i[a]||o,e[s],t,n));return _baseUniq(_baseFlatten(i,1),t,n)}var _baseXor=baseXor,xor=_baseRest(function(e){return _baseXor(_arrayFilter(e,isArrayLikeObject_1))}),xor_1=xor,xorBy=_baseRest(function(e){var t=last_1(e);return isArrayLikeObject_1(t)&&(t=void 0),_baseXor(_arrayFilter(e,isArrayLikeObject_1),_baseIteratee(t,2))}),xorBy_1=xorBy,xorWith=_baseRest(function(e){var t=last_1(e);return t="function"==typeof t?t:void 0,_baseXor(_arrayFilter(e,isArrayLikeObject_1),void 0,t)}),xorWith_1=xorWith,zip=_baseRest(unzip_1),zip_1=zip;function baseZipObject(e,t,n){for(var r=-1,a=e.length,i=t.length,o={};++r<a;){var s=r<i?t[r]:void 0;n(o,e[r],s)}return o}var _baseZipObject=baseZipObject;function zipObject(e,t){return _baseZipObject(e||[],t||[],_assignValue)}var zipObject_1=zipObject;function zipObjectDeep(e,t){return _baseZipObject(e||[],t||[],_baseSet)}var zipObjectDeep_1=zipObjectDeep,zipWith=_baseRest(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,unzipWith_1(e,n)}),zipWith_1=zipWith,array={chunk:chunk_1,compact:compact_1,concat:concat_1,difference:difference_1,differenceBy:differenceBy_1,differenceWith:differenceWith_1,drop:drop_1,dropRight:dropRight_1,dropRightWhile:dropRightWhile_1,dropWhile:dropWhile_1,fill:fill_1,findIndex:findIndex_1,findLastIndex:findLastIndex_1,first:first,flatten:flatten_1,flattenDeep:flattenDeep_1,flattenDepth:flattenDepth_1,fromPairs:fromPairs_1,head:head_1,indexOf:indexOf_1,initial:initial_1,intersection:intersection_1,intersectionBy:intersectionBy_1,intersectionWith:intersectionWith_1,join:join_1,last:last_1,lastIndexOf:lastIndexOf_1,nth:nth_1,pull:pull_1,pullAll:pullAll_1,pullAllBy:pullAllBy_1,pullAllWith:pullAllWith_1,pullAt:pullAt_1,remove:remove_1,reverse:reverse_1,slice:slice_1,sortedIndex:sortedIndex_1,sortedIndexBy:sortedIndexBy_1,sortedIndexOf:sortedIndexOf_1,sortedLastIndex:sortedLastIndex_1,sortedLastIndexBy:sortedLastIndexBy_1,sortedLastIndexOf:sortedLastIndexOf_1,sortedUniq:sortedUniq_1,sortedUniqBy:sortedUniqBy_1,tail:tail_1,take:take_1,takeRight:takeRight_1,takeRightWhile:takeRightWhile_1,takeWhile:takeWhile_1,union:union_1,unionBy:unionBy_1,unionWith:unionWith_1,uniq:uniq_1,uniqBy:uniqBy_1,uniqWith:uniqWith_1,unzip:unzip_1,unzipWith:unzipWith_1,without:without_1,xor:xor_1,xorBy:xorBy_1,xorWith:xorWith_1,zip:zip_1,zipObject:zipObject_1,zipObjectDeep:zipObjectDeep_1,zipWith:zipWith_1};function arrayAggregator(e,t,n,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}var _arrayAggregator=arrayAggregator;function createBaseEach(e,t){return function(n,r){if(null==n)return n;if(!isArrayLike_1(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&!1!==r(o[i],i,o););return n}}var _createBaseEach=createBaseEach,baseEach=_createBaseEach(_baseForOwn),_baseEach=baseEach;function baseAggregator(e,t,n,r){return _baseEach(e,function(e,a,i){t(r,e,n(e),i)}),r}var _baseAggregator=baseAggregator;function createAggregator(e,t){return function(n,r){var a=isArray_1(n)?_arrayAggregator:_baseAggregator,i=t?t():{};return a(n,e,_baseIteratee(r,2),i)}}var _createAggregator=createAggregator,objectProto$m=Object.prototype,hasOwnProperty$i=objectProto$m.hasOwnProperty,countBy=_createAggregator(function(e,t,n){hasOwnProperty$i.call(e,n)?++e[n]:_baseAssignValue(e,n,1)}),countBy_1=countBy;function forEach(e,t){return(isArray_1(e)?_arrayEach:_baseEach)(e,_castFunction(t))}var forEach_1=forEach,each=forEach_1;function arrayEachRight(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}var _arrayEachRight=arrayEachRight,baseEachRight=_createBaseEach(_baseForOwnRight,!0),_baseEachRight=baseEachRight;function forEachRight(e,t){return(isArray_1(e)?_arrayEachRight:_baseEachRight)(e,_castFunction(t))}var forEachRight_1=forEachRight,eachRight=forEachRight_1;function arrayEvery(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var _arrayEvery=arrayEvery;function baseEvery(e,t){var n=!0;return _baseEach(e,function(e,r,a){return n=!!t(e,r,a)}),n}var _baseEvery=baseEvery;function every(e,t,n){var r=isArray_1(e)?_arrayEvery:_baseEvery;return n&&_isIterateeCall(e,t,n)&&(t=void 0),r(e,_baseIteratee(t,3))}var every_1=every;function baseFilter(e,t){var n=[];return _baseEach(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}var _baseFilter=baseFilter;function filter(e,t){return(isArray_1(e)?_arrayFilter:_baseFilter)(e,_baseIteratee(t,3))}var filter_1=filter;function createFind(e){return function(t,n,r){var a=Object(t);if(!isArrayLike_1(t)){var i=_baseIteratee(n,3);t=keys_1(t),n=function(e){return i(a[e],e,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var _createFind=createFind,find=_createFind(findIndex_1),find_1=find,findLast=_createFind(findLastIndex_1),findLast_1=findLast;function baseMap(e,t){var n=-1,r=isArrayLike_1(e)?Array(e.length):[];return _baseEach(e,function(e,a,i){r[++n]=t(e,a,i)}),r}var _baseMap=baseMap;function map(e,t){return(isArray_1(e)?_arrayMap:_baseMap)(e,_baseIteratee(t,3))}var map_1=map;function flatMap(e,t){return _baseFlatten(map_1(e,t),1)}var flatMap_1=flatMap,INFINITY$5=1/0;function flatMapDeep(e,t){return _baseFlatten(map_1(e,t),INFINITY$5)}var flatMapDeep_1=flatMapDeep;function flatMapDepth(e,t,n){return n=void 0===n?1:toInteger_1(n),_baseFlatten(map_1(e,t),n)}var flatMapDepth_1=flatMapDepth,objectProto$n=Object.prototype,hasOwnProperty$j=objectProto$n.hasOwnProperty,groupBy=_createAggregator(function(e,t,n){hasOwnProperty$j.call(e,n)?e[n].push(t):_baseAssignValue(e,n,[t])}),groupBy_1=groupBy,nativeMax$7=Math.max;function includes(e,t,n,r){e=isArrayLike_1(e)?e:values_1(e),n=n&&!r?toInteger_1(n):0;var a=e.length;return n<0&&(n=nativeMax$7(a+n,0)),isString_1(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&_baseIndexOf(e,t,n)>-1}var includes_1=includes,invokeMap=_baseRest(function(e,t,n){var r=-1,a="function"==typeof t,i=isArrayLike_1(e)?Array(e.length):[];return _baseEach(e,function(e){i[++r]=a?_apply(t,e,n):_baseInvoke(e,t,n)}),i}),invokeMap_1=invokeMap,keyBy=_createAggregator(function(e,t,n){_baseAssignValue(e,n,t)}),keyBy_1=keyBy;function baseSortBy(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var _baseSortBy=baseSortBy;function compareMultiple(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,s=n.length;++r<o;){var l=_compareAscending(a[r],i[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}var _compareMultiple=compareMultiple;function baseOrderBy(e,t,n){var r=-1;t=_arrayMap(t.length?t:[identity_1],_baseUnary(_baseIteratee));var a=_baseMap(e,function(e,n,a){return{criteria:_arrayMap(t,function(t){return t(e)}),index:++r,value:e}});return _baseSortBy(a,function(e,t){return _compareMultiple(e,t,n)})}var _baseOrderBy=baseOrderBy;function orderBy(e,t,n,r){return null==e?[]:(isArray_1(t)||(t=null==t?[]:[t]),isArray_1(n=r?void 0:n)||(n=null==n?[]:[n]),_baseOrderBy(e,t,n))}var orderBy_1=orderBy,partition=_createAggregator(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),partition_1=partition;function arrayReduce(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}var _arrayReduce=arrayReduce;function baseReduce(e,t,n,r,a){return a(e,function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)}),n}var _baseReduce=baseReduce;function reduce(e,t,n){var r=isArray_1(e)?_arrayReduce:_baseReduce,a=arguments.length<3;return r(e,_baseIteratee(t,4),n,a,_baseEach)}var reduce_1=reduce;function arrayReduceRight(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}var _arrayReduceRight=arrayReduceRight;function reduceRight(e,t,n){var r=isArray_1(e)?_arrayReduceRight:_baseReduce,a=arguments.length<3;return r(e,_baseIteratee(t,4),n,a,_baseEachRight)}var reduceRight_1=reduceRight;function reject(e,t){return(isArray_1(e)?_arrayFilter:_baseFilter)(e,negate_1(_baseIteratee(t,3)))}var reject_1=reject,nativeFloor$1=Math.floor,nativeRandom=Math.random;function baseRandom(e,t){return e+nativeFloor$1(nativeRandom()*(t-e+1))}var _baseRandom=baseRandom;function arraySample(e){var t=e.length;return t?e[_baseRandom(0,t-1)]:void 0}var _arraySample=arraySample;function baseSample(e){return _arraySample(values_1(e))}var _baseSample=baseSample;function sample(e){return(isArray_1(e)?_arraySample:_baseSample)(e)}var sample_1=sample;function shuffleSelf(e,t){var n=-1,r=e.length,a=r-1;for(t=void 0===t?r:t;++n<t;){var i=_baseRandom(n,a),o=e[i];e[i]=e[n],e[n]=o}return e.length=t,e}var _shuffleSelf=shuffleSelf;function arraySampleSize(e,t){return _shuffleSelf(_copyArray(e),_baseClamp(t,0,e.length))}var _arraySampleSize=arraySampleSize;function baseSampleSize(e,t){var n=values_1(e);return _shuffleSelf(n,_baseClamp(t,0,n.length))}var _baseSampleSize=baseSampleSize;function sampleSize(e,t,n){return t=(n?_isIterateeCall(e,t,n):void 0===t)?1:toInteger_1(t),(isArray_1(e)?_arraySampleSize:_baseSampleSize)(e,t)}var sampleSize_1=sampleSize;function arrayShuffle(e){return _shuffleSelf(_copyArray(e))}var _arrayShuffle=arrayShuffle;function baseShuffle(e){return _shuffleSelf(values_1(e))}var _baseShuffle=baseShuffle;function shuffle(e){return(isArray_1(e)?_arrayShuffle:_baseShuffle)(e)}var shuffle_1=shuffle,asciiSize=_baseProperty("length"),_asciiSize=asciiSize,rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsVarRange$2="\\ufe0e\\ufe0f",rsAstral$1="["+rsAstralRange$2+"]",rsCombo$1="["+rsComboRange$2+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$1+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$2+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$2="\\u200d",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$2+"]?",rsOptJoin$1="(?:"+rsZWJ$2+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsSymbol$1="(?:"+[rsNonAstral$1+rsCombo$1+"?",rsCombo$1,rsRegional$1,rsSurrPair$1,rsAstral$1].join("|")+")",reUnicode$1=RegExp(rsFitz$1+"(?="+rsFitz$1+")|"+rsSymbol$1+rsSeq$1,"g");function unicodeSize(e){for(var t=reUnicode$1.lastIndex=0;reUnicode$1.test(e);)++t;return t}var _unicodeSize=unicodeSize;function stringSize(e){return _hasUnicode(e)?_unicodeSize(e):_asciiSize(e)}var _stringSize=stringSize,mapTag$9="[object Map]",setTag$9="[object Set]";function size(e){if(null==e)return 0;if(isArrayLike_1(e))return isString_1(e)?_stringSize(e):e.length;var t=_getTag(e);return t==mapTag$9||t==setTag$9?e.size:_baseKeys(e).length}var size_1=size;function baseSome(e,t){var n;return _baseEach(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}var _baseSome=baseSome;function some(e,t,n){var r=isArray_1(e)?_arraySome:_baseSome;return n&&_isIterateeCall(e,t,n)&&(t=void 0),r(e,_baseIteratee(t,3))}var some_1=some,sortBy=_baseRest(function(e,t){if(null==e)return[];var n=t.length;return n>1&&_isIterateeCall(e,t[0],t[1])?t=[]:n>2&&_isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),_baseOrderBy(e,_baseFlatten(t,1),[])}),sortBy_1=sortBy,collection={countBy:countBy_1,each:each,eachRight:eachRight,every:every_1,filter:filter_1,find:find_1,findLast:findLast_1,flatMap:flatMap_1,flatMapDeep:flatMapDeep_1,flatMapDepth:flatMapDepth_1,forEach:forEach_1,forEachRight:forEachRight_1,groupBy:groupBy_1,includes:includes_1,invokeMap:invokeMap_1,keyBy:keyBy_1,map:map_1,orderBy:orderBy_1,partition:partition_1,reduce:reduce_1,reduceRight:reduceRight_1,reject:reject_1,sample:sample_1,sampleSize:sampleSize_1,shuffle:shuffle_1,size:size_1,some:some_1,sortBy:sortBy_1},objectUtils={get:object.get,has:object.has,mapValues:object.mapValues,isEmpty:lang.isEmpty,cloneDeep:lang.cloneDeep,remove:array.remove,includes:collection.includes,filter:collection.filter};function processResourceConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},objectUtils.cloneDeep(e));return t.endpoints&&(t.endpoints=objectUtils.mapValues(t.endpoints,function(e){return"string"==typeof e?{uri:e,params:{}}:e})),t}function prepareFetchUserByExternalIdRequest(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var r=n.apiSettings,a=n.userSettings,i=a.externalIdField,o=objectUtils.get(a,"endpoints.fetch.uri",""),s=""+r.prefixURI+o.replace(":id",e),l=prepareAuthRequest(t,{apiSettings:r,resourceConfig:a}),c=objectUtils.get(a,"endpoints.fetch.params",{}),u=Object.assign({},c);return i&&(u[i]=e),{uri:s,options:Object.assign({},l,{query:u})}}function prepareCreateUserRequest(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var r=n.apiSettings,a=n.userSettings,i=objectUtils.get(a,"endpoints.create.uri",""),o=""+r.prefixURI+i,s=prepareAuthRequest(t,{apiSettings:r,resourceConfig:a}),l=objectUtils.get(a,"endpoints.create.params",{}),c=Object.assign({},l),u=Object.assign({},serializeItemData(e));return{uri:o,options:Object.assign({},s,{body:u,query:c})}}function prepareAuthRequest(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=t.apiSettings||{},a=t.resourceConfig.api,i=a&&a.auth&&a.auth.scheme?a.auth:r.auth,o=objectUtils.get(i,"scheme",null);if(o){var s=i.tokenGetter?e.rootGetters[i.tokenGetter]:{},l=i.tokenHeaderName||"x-token";switch(o){case"bearer-token":n.headers={Authorization:"Bearer "+s};break;case"custom-header":n.headers={},n.headers[l]=s;break;default:n.headers={}}}return n}function serializeItemData(e){return objectUtils.mapValues(e,function(e){return"boolean"==typeof e?String(e):e})}var JointNormalizer=require("joint-normalizer"),defaultAPISettings={baseURL:"",prefixURI:"",contentType:"application/json",assocNameMap:{}},defaultUserSettings={},defaultUserProfileSettings={},defaultUserPrefsSettings={},defaultUserPrefs={i18n:{locale:"en-GB"}};function generateStore(e){var t=e.debugInit,n=e.debug,r=e.debug,a=e.debugRequests,i=e.debugNormalizer,o=e.pluginName,s=e.syncMode,l=e.initSettings,c="Loading Vuestrap: "+o;t&&(console.log("===================================="),console.log(c),console.log("===================================="),console.log("["+o+"] Initializing store with settings =>",l),s&&console.log("["+o+"] External User (Sync) mode enabled"));var u=Object.assign({},defaultAPISettings,l.apiSettings),_=Object.assign({},defaultUserSettings,processResourceConfig(l.userSettings)),f=l.userProfileSettings?Object.assign({},defaultUserProfileSettings,l.userProfileSettings):null,d=l.userPrefsSettings?Object.assign({},defaultUserPrefsSettings,l.userPrefsSettings):null,p={};_.model&&(p.User=_.model),f&&f.model&&(p.UserProfile=f.model),d&&d.model&&(p.UserPrefs=d.model);var g=u.baseURL||"",v=u.contentType||null,b={baseURL:g,debug:a,logNamespace:"["+o+"-xhr]"};u.timeout&&(b.timeout=u.timeout),v&&(b.headers={"Content-Type":v,Accept:v});var A=new Ajax(b),h=new JointNormalizer({payloadSpec:"json-api",models:p,debugInit:t,debug:i,debugToModel:i,logNamespace:"["+o+"-normalizer]",relationNameMap:u.assocNameMap}),y=function(e){return h.normalizePayload(e,!0)},m={namespaced:!0};return m.state={pluginName:o,syncMode:s,apiSettings:u,userSettings:_,userProfileSettings:f,userPrefsSettings:d,user:new AnonUser,userProfileEditing_messages:[],userProfileEditing_activeMessage:null,defaultUserPrefs:defaultUserPrefs,userPrefs:defaultUserPrefs},m.getters={pluginName:function(e){return e.pluginName},syncMode:function(e){return e.syncMode},activeUser:function(e){return e.user},userProfileEditingFeedback:function(e){return e.userProfileEditing_activeMessage},defaultUserPrefs:function(e){return e.defaultUserPrefs},activeUserPrefs:function(e){return e.userPrefs},activeLocale:function(e){return e.userPrefs.i18n.locale}},m.actions={hydrateUser:function(e,t){var r=e.dispatch,a=e.getters,i=a.syncMode,s=a.activeUser;return s.is_logged_in?s:t?r(i?"hydrateExternalUser":"hydrateLocalUser",t):(n&&console.log("["+o+"] Hydrating anonymous app user (no session found)"),r("clearActiveUser").then(function(){return a.activeUser}))},setActiveUser:function(e,t){e.commit("setActiveUser",t)},clearActiveUser:function(e){e.commit("clearActiveUser")},hydrateLocalUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.dispatch;n&&(console.log("["+o+"] Hydrating app user with session info =>"),console.log(t));var a=new p.User(t);return a.is_logged_in=!0,r("setActiveUser",a),n&&(console.log("["+o+"] App user hydrated =>"),console.log(a)),a},hydrateExternalUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.dispatch,i=e.getters;return n&&(console.log("["+o+"] Hydrating app user with external user info =>"),console.log(t)),a("fetchUserByExternalInfo",t).then(function(e){return r&&console.log("["+o+"] A synced user account was found"),e.is_logged_in=!0,a("setActiveUser",e),n&&(console.log("["+o+"] App user hydrated =>"),console.log(e)),e}).catch(function(e){var s=e.status;if(404===s)return r&&console.log("["+o+"] A synced user account does not exist, so it will be created..."),a("createUserByExternalInfo",t).then(function(e){return r&&console.log("["+o+"] A synced user account was created"),e.is_logged_in=!0,a("setActiveUser",e),n&&(console.log("["+o+"] External app user hydrated =>"),console.log(e)),e});r&&console.log("["+o+"] There was an issue fetching the external user, so the app user will remain logged-out...");var l=Object.assign(i.activeUser,{hydrate_status_code:s});return a("setActiveUser",l),l})},fetchUserByExternalInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.state,a=n.apiSettings,i=n.userSettings,s=t[i.idField||"id"];if(!s)return Promise.reject({status:400});var l=prepareFetchUserByExternalIdRequest(s,e,{apiSettings:a,userSettings:i});return l?(r&&console.log("["+o+"] Fetching synced user account via "+l.uri,l.options),A.get(l.uri,l.options).then(function(e){return y(e)}).catch(function(e){return 404===e.status?Promise.reject({status:404}):(r&&404!==e.status&&(console.log("["+o+"] fetchUserByExternalInfo =>"),console.log(e)),Promise.reject({status:e.status||500}))})):(r&&console.log("["+o+"] Unable to fetch synced user account, due to invalid session or data"),Promise.reject({status:500}))},createUserByExternalInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.state,a=n.apiSettings,i=n.userSettings,s=prepareCreateUserRequest(function(e,t){r&&console.log("["+o+"] parsing external user info:",e);var n=t.idField||"id",a=t.externalIdField||"external_id",i=e[n],s=Object.assign({},e);s[a]=i,s[n]=null,r&&console.log("["+o+"] parsed =>",s);return s}(t,i),e,{apiSettings:a,userSettings:i});return s?(r&&console.log("["+o+"] Creating synced account via "+s.uri,s.options),A.post(s.uri,s.options).then(function(e){return y(e)}).catch(function(e){return r&&(console.log("["+o+"] createUserByExternalInfo =>"),console.log(e)),Promise.reject({status:e.status||500})})):(r&&console.log("["+o+"] Unable to create synced user account, due to invalid session or data"),Promise.reject(!1))}},m.mutations={setActiveUser:function(e,t){e.user=t},clearActiveUser:function(e){e.user=new AnonUser,e.userProfileEditing_messages=[],e.userProfileEditing_activeMessage=null},registerMessageForUserProfileEditing:function(e,t){e.userProfileEditing_messages.unshift(t)},advanceMessageForUserProfileEditing:function(e){e.userProfileEditing_activeMessage||(e.userProfileEditing_activeMessage=e.userProfileEditing_messages.pop())},resolveMessageForUserProfileEditing:function(e){e.userProfileEditing_activeMessage=null},setActiveUserPrefs:function(e,t){e.userPrefs=t},setActiveLocale:function(e,t){e.userPrefs.i18n.locale=t}},m}var script={name:"ExternalUserProfileEditor",data:function(){return{itemEditing:this.user}},props:{user:{type:Object,default:null},showAccountInfo:{type:Boolean,default:!0},showProfileInfo:{type:Boolean,default:!0}},computed:{},methods:{editAccountInfo:function(){},saveProfileInfo:function(){this.$store.dispatch("user/updateMyUserProfile",this.itemEditing.profile)}}};function normalizeComponent(e,t,n,r,a,i,o,s,l,c){"boolean"!=typeof o&&(l=s,s=o,o=!1);var u,_="function"==typeof n?n.options:n;if(e&&e.render&&(_.render=e.render,_.staticRenderFns=e.staticRenderFns,_._compiled=!0,a&&(_.functional=!0)),r&&(_._scopeId=r),i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},_._ssrRegister=u):t&&(u=o?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),u)if(_.functional){var f=_.render;_.render=function(e,t){return u.call(t),f(e,t)}}else{var d=_.beforeCreate;_.beforeCreate=d?[].concat(d,u):[u]}return n}var normalizeComponent_1=normalizeComponent,isOldIE="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function createInjector(e){return function(e,t){return addStyle(e,t)}}var HEAD=document.head||document.getElementsByTagName("head")[0],styles={};function addStyle(e,t){var n=isOldIE?t.media||"default":e,r=styles[n]||(styles[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var a=t.source;if(t.map&&(a+="\n/*# sourceURL="+t.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),HEAD.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(a),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var i=r.ids.size-1,o=document.createTextNode(a),s=r.element.childNodes;s[i]&&r.element.removeChild(s[i]),s.length?r.element.insertBefore(o,s[i]):r.element.appendChild(o)}}}var browser=createInjector,__vue_script__=script,__vue_render__=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{staticClass:"local-user-profile-editor",attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[e.showAccountInfo?n("v-card",{staticClass:"account-info"},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card-title",{staticClass:"info-title"},[e._v("Account Info")])],1)],1),e._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs5:""}},[n("user-avatar",{attrs:{user:e.user,size:200}})],1),e._v(" "),n("v-flex",{attrs:{xs5:""}},[n("v-text-field",{attrs:{readonly:"",label:"Username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username","string"==typeof t?t.trim():t)},expression:"user.username"}}),e._v(" "),n("v-text-field",{attrs:{readonly:"",label:"Display Name"},model:{value:e.user.display_name,callback:function(t){e.$set(e.user,"display_name","string"==typeof t?t.trim():t)},expression:"user.display_name"}}),e._v(" "),n("v-text-field",{attrs:{readonly:"",label:"First Name"},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name","string"==typeof t?t.trim():t)},expression:"user.first_name"}}),e._v(" "),n("v-text-field",{attrs:{readonly:"",label:"Last Name"},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name","string"==typeof t?t.trim():t)},expression:"user.last_name"}}),e._v(" "),n("v-text-field",{attrs:{readonly:"",label:"Email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"==typeof t?t.trim():t)},expression:"user.email"}})],1)],1),e._v(" "),n("v-card-actions",{staticClass:"info-controls transparent"},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{light:""},on:{click:e.editAccountInfo}},[e._v("Edit Account Info")])],1)],1):e._e()],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[e.showProfileInfo?n("v-card",{staticClass:"profile-info"},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card-title",{staticClass:"info-title"},[e._v("Profile Info")])],1)],1),e._v(" "),n("v-layout",{staticClass:"info-fields"},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Title"},model:{value:e.itemEditing.profile.title,callback:function(t){e.$set(e.itemEditing.profile,"title","string"==typeof t?t.trim():t)},expression:"itemEditing.profile.title"}}),e._v(" "),n("v-text-field",{attrs:{label:"Tagline"},model:{value:e.itemEditing.profile.tagline,callback:function(t){e.$set(e.itemEditing.profile,"tagline","string"==typeof t?t.trim():t)},expression:"itemEditing.profile.tagline"}}),e._v(" "),n("v-text-field",{attrs:{textarea:"",label:"About Me"},model:{value:e.itemEditing.profile.description,callback:function(t){e.$set(e.itemEditing.profile,"description","string"==typeof t?t.trim():t)},expression:"itemEditing.profile.description"}})],1)],1),e._v(" "),n("v-card-actions",{staticClass:"info-controls transparent"},[n("profile-editor-feedback",{attrs:{resource:"user-profile",autoCloseAfterMillis:5e3}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{light:""},on:{click:e.saveProfileInfo}},[e._v("Save")])],1)],1):e._e()],1)],1)},__vue_staticRenderFns__=[];__vue_render__._withStripped=!0;var __vue_inject_styles__=function(e){e&&e("data-v-390b3278_0",{source:"\n.controls .btn[data-v-390b3278] {\n  margin: 0 auto;\n}\n.info-title[data-v-390b3278] {\n  font-size: 23px;\n  padding: 12px;\n  margin-bottom: 10px;\n}\n.info-sub-heading[data-v-390b3278] {\n  text-align: left;\n  font-size: 16px;\n}\n.info-controls[data-v-390b3278] {\n  height: 69px;\n  margin: 40px 20px 0 20px;\n  padding: 20px 0 10px 0 !important;\n  border-top: 1px solid #d9d9d9 !important;\n}\n\n/* ------------ */\n/* Account Info */\n/* ------------ */\n.account-info[data-v-390b3278] {\n  background-color: #f2f2f2;\n  padding: 12px;\n  margin-bottom: 20px;\n  min-width: 500px;\n}\n.account-info .user-avatar[data-v-390b3278] {\n  margin-bottom: 40px;\n}\n\n/* ------------ */\n/* Profile Info */\n/* ------------ */\n.profile-info[data-v-390b3278] {\n  background-color: #f2f2f2;\n  padding: 12px;\n  margin-bottom: 20px;\n  min-width: 500px;\n}\n.profile-info .info-fields[data-v-390b3278] {\n  padding: 0 20px;\n}\n\n",map:{version:3,sources:["/Users/wmccraw/git_repos/manic_manifesto/vuestrap-client-app-user/src/components/ExternalUserProfileEditor.vue"],names:[],mappings:";AA4GA;EACA,cAAA;AACA;AACA;EACA,eAAA;EACA,aAAA;EACA,mBAAA;AACA;AACA;EACA,gBAAA;EACA,eAAA;AACA;AACA;EACA,YAAA;EACA,wBAAA;EACA,iCAAA;EACA,wCAAA;AACA;;AAEA,iBAAA;AACA,iBAAA;AACA,iBAAA;AAEA;EACA,yBAAA;EACA,aAAA;EACA,mBAAA;EACA,gBAAA;AACA;AACA;EACA,mBAAA;AACA;;AAEA,iBAAA;AACA,iBAAA;AACA,iBAAA;AAEA;EACA,yBAAA;EACA,aAAA;EACA,mBAAA;EACA,gBAAA;AACA;AACA;EACA,eAAA;AACA",file:"ExternalUserProfileEditor.vue",sourcesContent:['<template>\n  <v-layout row wrap class="local-user-profile-editor">\n\n    \x3c!-----------------------\x3e\n    \x3c!-- User Account Info --\x3e\n    \x3c!-----------------------\x3e\n    <v-flex xs12>\n      <v-card v-if="showAccountInfo" class="account-info">\n\n        <v-layout row>\n          <v-flex xs12>\n            <v-card-title class="info-title">Account Info</v-card-title>\n          </v-flex>\n        </v-layout>\n\n        <v-layout row>\n          <v-flex xs5>\n            <user-avatar v-bind:user="user" v-bind:size="200" />\n          </v-flex>\n          <v-flex xs5>\n            <v-text-field readonly label="Username" v-model.trim="user.username" />\n            <v-text-field readonly label="Display Name" v-model.trim="user.display_name" />\n            <v-text-field readonly label="First Name" v-model.trim="user.first_name" />\n            <v-text-field readonly label="Last Name" v-model.trim="user.last_name" />\n            <v-text-field readonly label="Email" v-model.trim="user.email" />\n          </v-flex>\n        </v-layout>\n\n        <v-card-actions class="info-controls transparent">\n          <v-spacer />\n          <v-btn light v-on:click="editAccountInfo">Edit Account Info</v-btn>\n        </v-card-actions>\n\n      </v-card>\n    </v-flex>\n\n    \x3c!-----------------------\x3e\n    \x3c!-- User Profile Info --\x3e\n    \x3c!-----------------------\x3e\n    <v-flex xs12>\n      <v-card v-if="showProfileInfo" class="profile-info">\n\n        <v-layout row>\n          <v-flex xs12>\n            <v-card-title class="info-title">Profile Info</v-card-title>\n          </v-flex>\n        </v-layout>\n\n        <v-layout class="info-fields">\n          <v-flex xs12>\n            <v-text-field label="Title" v-model.trim="itemEditing.profile.title" />\n            <v-text-field label="Tagline" v-model.trim="itemEditing.profile.tagline" />\n            <v-text-field textarea label="About Me" v-model.trim="itemEditing.profile.description" />\n          </v-flex>\n        </v-layout>\n\n        <v-card-actions class="info-controls transparent">\n          <profile-editor-feedback v-bind:resource="\'user-profile\'" v-bind:autoCloseAfterMillis="5000" />\n          <v-spacer />\n          <v-btn light v-on:click="saveProfileInfo">Save</v-btn>\n        </v-card-actions>\n\n      </v-card>\n    </v-flex>\n\n  </v-layout>\n</template>\n\n<script>\nexport default {\n  name: \'ExternalUserProfileEditor\',\n\n  data() {\n    return {\n      itemEditing: this.user,\n    };\n  },\n\n  props: {\n    user: {\n      type: Object,\n      default: null,\n    },\n    showAccountInfo: {\n      type: Boolean,\n      default: true,\n    },\n    showProfileInfo: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  computed: {\n  },\n\n  methods: {\n    editAccountInfo() {\n    },\n    saveProfileInfo() {\n      this.$store.dispatch(\'user/updateMyUserProfile\', this.itemEditing.profile);\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n\n  .controls .btn {\n    margin: 0 auto;\n  }\n  .info-title {\n    font-size: 23px;\n    padding: 12px;\n    margin-bottom: 10px;\n  }\n  .info-sub-heading {\n    text-align: left;\n    font-size: 16px;\n  }\n  .info-controls {\n    height: 69px;\n    margin: 40px 20px 0 20px;\n    padding: 20px 0 10px 0 !important;\n    border-top: 1px solid #d9d9d9 !important;\n  }\n\n  /* ------------ */\n  /* Account Info */\n  /* ------------ */\n\n  .account-info {\n    background-color: #f2f2f2;\n    padding: 12px;\n    margin-bottom: 20px;\n    min-width: 500px;\n  }\n  .account-info .user-avatar {\n    margin-bottom: 40px;\n  }\n\n  /* ------------ */\n  /* Profile Info */\n  /* ------------ */\n\n  .profile-info {\n    background-color: #f2f2f2;\n    padding: 12px;\n    margin-bottom: 20px;\n    min-width: 500px;\n  }\n  .profile-info .info-fields {\n    padding: 0 20px;\n  }\n\n</style>\n']},media:void 0})},__vue_scope_id__="data-v-390b3278",__vue_module_identifier__=void 0,__vue_is_functional_template__=!1,ExternalUserProfileEditor=normalizeComponent_1({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,browser,void 0),vueClickOutside=createCommonjsModule(function(e,t){function n(e){return"function"==typeof e.value||(console.warn("[Vue-click-outside:] provided expression",e.expression,"is not a function."),!1)}function r(e){return void 0!==e.componentInstance&&e.componentInstance.$isServer}e.exports={bind:function(e,t,a){function i(t){if(a.context){var n=t.path||t.composedPath&&t.composedPath();n&&n.length>0&&n.unshift(t.target),e.contains(t.target)||function(e,t){if(!e||!t)return!1;for(var n=0,r=t.length;n<r;n++)try{if(e.contains(t[n]))return!0;if(t[n].contains(e))return!1}catch(e){return!1}return!1}(a.context.popupItem,n)||e.__vueClickOutside__.callback(t)}}n(t)&&(e.__vueClickOutside__={handler:i,callback:t.value},!r(a)&&document.addEventListener("click",i))},update:function(e,t){n(t)&&(e.__vueClickOutside__.callback=t.value)},unbind:function(e,t,n){!r(n)&&document.removeEventListener("click",e.__vueClickOutside__.handler),delete e.__vueClickOutside__}}}),vueClickOutside_1=vueClickOutside.bind,vueClickOutside_2=vueClickOutside.update,vueClickOutside_3=vueClickOutside.unbind,script$1={name:"LanguagePicker",directives:{ClickOutside:vueClickOutside},props:{label:{type:String,default:"Languages"},locales:{type:Array,default:function(){return[{code:"en-GB",label:"English"},{code:"zh-HK",label:"繁體中文"},{code:"zh-CN",label:"简体中文"}]}}},data:function(){return{dropdownStyles:null,show:!1}},computed:{activeLocale:function(){return this.$store.getters["user/activeLocale"]},activeIndex:function(){return this.activeLocale?this.getActiveIndex(this.activeLocale):0},labelToDisplay:function(){if(2===this.locales.length){var e=0===this.activeIndex?1:0;return this.locales[e].label}return this.locales[this.activeIndex].label},classes:function(){return[].concat(toConsumableArray(this.locales.length>2?["dropdown"]:[]),["language-picker",{show:this.show}])}},mounted:function(){this.popupItem=this.$el},methods:{hide:function(){this.show=!1},toggle:function(){if(this.locales.length>2)this.show=!this.show;else{var e=0===this.activeIndex?1:0;this.switchLanguage(e)}},getActiveIndex:function(e){for(var t=0,n=0;n<this.locales.length;n+=1)if(this.locales[n].code===e){t=n;break}return t},switchLanguage:function(e){this.$store.dispatch("user/setActiveLocale",this.locales[e].code),this.$emit("languagePicker/switchLanguage",this.locales[e].code),this.hide()}}},__vue_script__$1=script$1,__vue_render__$1=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[n("button",{staticClass:"btn btn-language-picker",on:{click:e.toggle}},[e.locales.length>2?n("span",{staticClass:"label"},[e._v(e._s(e.label))]):n("span",[e._v(e._s(e.labelToDisplay))]),e._v(" "),e.locales.length>2?n("span",{staticClass:"arrow down"}):e._e()]),e._v(" "),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"dropdown-menu",style:e.dropdownStyles},e._l(e.locales,function(t,r){return n("div",{class:{"dropdown-item":!0,active:e.activeIndex===r},on:{click:function(t){return e.switchLanguage(r)}}},[e._v("\n      "+e._s(t.label)+"\n    ")])}),0)])},__vue_staticRenderFns__$1=[];__vue_render__$1._withStripped=!0;var __vue_inject_styles__$1=function(e){e&&e("data-v-687d1af8_0",{source:"/* Colors */\n/* Colors */\n.btn[data-v-687d1af8] {\n  min-width: 4rem;\n  padding: 0rem 1rem;\n  border-radius: 3px;\n  font-size: 1rem;\n  transition: box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1), color 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n}\n.btn .arrow[data-v-687d1af8] {\n    vertical-align: middle;\n    margin-left: .4rem;\n    border-left: 4px solid transparent;\n    border-right: 4px solid transparent;\n    border-top: 6px solid #ccc;\n    border-bottom: 0;\n}\n.btn[data-v-687d1af8]:hover:not(:disabled):not(.disabled) {\n    background-color: #e8e8e8;\n    cursor: pointer;\n}\n.btn:hover:not(:disabled):not(.disabled) .arrow[data-v-687d1af8] {\n      border-top-color: #9e9e9e;\n}\n.language-picker[data-v-687d1af8] {\n  display: inline-flex;\n}\n.btn-language-picker[data-v-687d1af8] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  padding: .3rem 1rem;\n}\n.dropdown[data-v-687d1af8] {\n  position: relative;\n}\n.dropdown-menu[data-v-687d1af8] {\n  display: none;\n  float: left;\n  position: absolute;\n  top: 1rem;\n  left: auto;\n  right: auto;\n  min-width: 10rem;\n  margin-top: 3px;\n  padding: 0;\n  background-color: #FFFFFF;\n  border-radius: 3px;\n  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.08);\n  list-style: none;\n  text-align: left;\n  z-index: 999;\n}\n.show .dropdown-menu[data-v-687d1af8] {\n    display: block;\n}\n.dropdown-item[data-v-687d1af8] {\n  display: block;\n  padding: 0.5rem 1rem;\n  background-color: transparent;\n  border-bottom: 1px solid #E0E0E0;\n  white-space: nowrap;\n}\n.dropdown-item[data-v-687d1af8]:last-child {\n    border-bottom: none;\n}\n.dropdown-item.active[data-v-687d1af8] {\n    color: #A5C73C;\n}\n.dropdown-item[data-v-687d1af8]:hover:not(.active) {\n    background-color: #ECECEC;\n    cursor: pointer;\n}\n\n/*# sourceMappingURL=LanguagePicker.vue.map */",map:{version:3,sources:["LanguagePicker.vue","/Users/wmccraw/git_repos/manic_manifesto/vuestrap-client-app-user/src/components/LanguagePicker.vue"],names:[],mappings:"AAAA,WAAW;AACX,WAAW;AACX;EACE,eAAe;EACf,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,mJAAmJ;AAAE;AACrJ;IACE,sBAAsB;IACtB,kBAAkB;IAClB,kCAAkC;IAClC,mCAAmC;IACnC,0BAA0B;IAC1B,gBAAgB;AAAE;AACpB;IACE,yBAAyB;IACzB,eAAe;AAAE;AACjB;MACE,yBAAyB;AAAE;ACkGjC;EACA,oBAAA;AAAA;AAGA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,6BAAA;EACA,yBAAA;EACA,aAAA;EACA,mBAAA;AAAA;AAGA;EACA,kBAAA;AAAA;AAGA;EACA,aAAA;EACA,WAAA;EACA,kBAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,gBAAA;EACA,eAAA;EACA,UAAA;EACA,yBAAA;EACA,kBAAA;EACA,gHAEA;EACA,gBAAA;EACA,gBAAA;EACA,YAAA;AAAA;AAEA;IACA,cAAA;AAAA;AAIA;EACA,cAAA;EACA,oBAAA;EACA,6BAAA;EACA,gCAAA;EACA,mBAAA;AAAA;AALA;IAQA,mBAAA;AAAA;AARA;IAYA,cAAA;AAAA;AAZA;IAgBA,yBAAA;IACA,eAAA;AAAA;;AD3GA,6CAA6C",file:"LanguagePicker.vue",sourcesContent:["/* Colors */\n/* Colors */\n.btn {\n  min-width: 4rem;\n  padding: 0rem 1rem;\n  border-radius: 3px;\n  font-size: 1rem;\n  transition: box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1), color 0.2s cubic-bezier(0.4, 0, 0.2, 1); }\n  .btn .arrow {\n    vertical-align: middle;\n    margin-left: .4rem;\n    border-left: 4px solid transparent;\n    border-right: 4px solid transparent;\n    border-top: 6px solid #ccc;\n    border-bottom: 0; }\n  .btn:hover:not(:disabled):not(.disabled) {\n    background-color: #e8e8e8;\n    cursor: pointer; }\n    .btn:hover:not(:disabled):not(.disabled) .arrow {\n      border-top-color: #9e9e9e; }\n\n.language-picker {\n  display: inline-flex; }\n\n.btn-language-picker {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  padding: .3rem 1rem; }\n\n.dropdown {\n  position: relative; }\n\n.dropdown-menu {\n  display: none;\n  float: left;\n  position: absolute;\n  top: 1rem;\n  left: auto;\n  right: auto;\n  min-width: 10rem;\n  margin-top: 3px;\n  padding: 0;\n  background-color: #FFFFFF;\n  border-radius: 3px;\n  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.08);\n  list-style: none;\n  text-align: left;\n  z-index: 999; }\n  .show .dropdown-menu {\n    display: block; }\n\n.dropdown-item {\n  display: block;\n  padding: 0.5rem 1rem;\n  background-color: transparent;\n  border-bottom: 1px solid #E0E0E0;\n  white-space: nowrap; }\n  .dropdown-item:last-child {\n    border-bottom: none; }\n  .dropdown-item.active {\n    color: #A5C73C; }\n  .dropdown-item:hover:not(.active) {\n    background-color: #ECECEC;\n    cursor: pointer; }\n\n/*# sourceMappingURL=LanguagePicker.vue.map */","<template>\n  <div v-bind:class=\"classes\">\n    <button class=\"btn btn-language-picker\" v-on:click=\"toggle\">\n      <span v-if=\"locales.length > 2\" class=\"label\">{{ label }}</span>\n      <span v-else>{{ labelToDisplay }}</span>\n      <span v-if=\"locales.length > 2\" class=\"arrow down\" />\n    </button>\n    <div v-click-outside=\"hide\"\n         v-bind:style=\"dropdownStyles\"\n         class=\"dropdown-menu\" >\n      <div v-for=\"(locale, index) in locales\"\n           v-on:click=\"switchLanguage(index)\"\n           v-bind:class=\"{ 'dropdown-item': true, 'active': activeIndex === index }\">\n        {{ locale.label }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ClickOutside from 'vue-click-outside';\n\nexport default {\n  name: 'LanguagePicker',\n\n  directives: {\n    ClickOutside,\n  },\n\n  props: {\n    label: {\n      type: String,\n      default: 'Languages',\n    },\n    locales: {\n      type: Array,\n      default: () => [\n        { code: 'en-GB', label: 'English' },\n        { code: 'zh-HK', label: '繁體中文' },\n        { code: 'zh-CN', label: '简体中文' },\n      ],\n    },\n  },\n\n  data() {\n    return {\n      dropdownStyles: null,\n      show: false,\n    };\n  },\n\n  computed: {\n    activeLocale() {\n      return this.$store.getters['user/activeLocale'];\n    },\n    activeIndex() {\n      return (this.activeLocale) ? this.getActiveIndex(this.activeLocale) : 0;\n    },\n    labelToDisplay() {\n      if (this.locales.length === 2) {\n        const oppositeIndex = this.activeIndex === 0 ? 1 : 0;\n        return this.locales[oppositeIndex].label;\n      }\n      return this.locales[this.activeIndex].label;\n    },\n    classes() {\n      return [\n        ...(this.locales.length > 2 ? ['dropdown'] : []),\n        'language-picker',\n        { show: this.show },\n      ];\n    },\n  },\n\n  mounted() {\n    // prevent click outside event with popupItem.\n    this.popupItem = this.$el;\n  },\n\n  methods: {\n    hide() {\n      this.show = false;\n    },\n\n    toggle() {\n      if (this.locales.length > 2) {\n        this.show = !this.show;\n      } else {\n        const index = this.activeIndex === 0 ? 1 : 0;\n        this.switchLanguage(index);\n      }\n    },\n\n    getActiveIndex(code) {\n      let index = 0;\n      for (let i = 0; i < this.locales.length; i += 1) {\n        if (this.locales[i].code === code) {\n          index = i;\n          break;\n        }\n      }\n      return index;\n    },\n\n    switchLanguage(index) {\n      this.$store.dispatch('user/setActiveLocale', this.locales[index].code);\n      this.$emit('languagePicker/switchLanguage', this.locales[index].code);\n      this.hide();\n    },\n  },\n};\n<\/script>\n\n<style lang=\"scss\" scoped>\n  @import \"../styles/variables\";\n  @import \"../styles/buttons\";\n\n  .language-picker {\n    display: inline-flex;\n  }\n\n  .btn-language-picker {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: transparent;\n    border-color: transparent;\n    outline: none;\n    padding: .3rem 1rem;\n  }\n\n  .dropdown {\n    position: relative;\n  }\n\n  .dropdown-menu {\n    display: none;\n    float: left;\n    position: absolute;\n    top: $button-font-size + 2 * $button-padding-vertical;\n    left: auto;\n    right: auto;\n    min-width: 10rem;\n    margin-top: 3px;\n    padding: 0;\n    background-color: #FFFFFF;\n    border-radius: 3px;\n    box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),\n                0 1px 10px 0 rgba(0, 0, 0, 0.10),\n                0 2px 4px -1px rgba(0, 0, 0, 0.08);\n    list-style: none;\n    text-align: left;\n    z-index: 999;\n\n    .show & {\n      display: block;\n    }\n  }\n\n  .dropdown-item {\n    display: block;\n    padding: $dropdown-item-padding;\n    background-color: transparent;\n    border-bottom: 1px solid $border-color;\n    white-space: nowrap;\n\n    &:last-child {\n      border-bottom: none;\n    }\n\n    &.active {\n      color: $color-primary;\n    }\n\n    &:hover:not(.active) {\n      background-color: #ECECEC;\n      cursor: pointer;\n    }\n  }\n</style>\n"]},media:void 0})},__vue_scope_id__$1="data-v-687d1af8",__vue_module_identifier__$1=void 0,__vue_is_functional_template__$1=!1,LanguagePicker=normalizeComponent_1({render:__vue_render__$1,staticRenderFns:__vue_staticRenderFns__$1},__vue_inject_styles__$1,__vue_script__$1,__vue_scope_id__$1,__vue_is_functional_template__$1,__vue_module_identifier__$1,browser,void 0),script$2={name:"LocalUserProfileEditor",data:function(){return{itemEditing:this.user}},props:{user:{type:Object,default:null},showAccountInfo:{type:Boolean,default:!0},showProfileInfo:{type:Boolean,default:!0}},computed:{},methods:{saveAccountInfo:function(){},saveProfileInfo:function(){this.$store.dispatch("user/updateMyUserProfile",this.itemEditing.profile)}}},__vue_script__$2=script$2,__vue_render__$2=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{staticClass:"local-user-profile-editor",attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[e.showAccountInfo?n("v-card",{staticClass:"account-info"},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card-title",{staticClass:"info-title"},[e._v("Account Info")])],1)],1),e._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs5:""}},[n("user-avatar",{attrs:{user:e.user,size:200}})],1),e._v(" "),n("v-flex",{attrs:{xs5:""}},[n("v-text-field",{attrs:{label:"Username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username","string"==typeof t?t.trim():t)},expression:"user.username"}}),e._v(" "),n("v-text-field",{attrs:{label:"Display Name"},model:{value:e.user.display_name,callback:function(t){e.$set(e.user,"display_name","string"==typeof t?t.trim():t)},expression:"user.display_name"}}),e._v(" "),n("v-text-field",{attrs:{label:"First Name"},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name","string"==typeof t?t.trim():t)},expression:"user.first_name"}}),e._v(" "),n("v-text-field",{attrs:{label:"Last Name"},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name","string"==typeof t?t.trim():t)},expression:"user.last_name"}}),e._v(" "),n("v-text-field",{attrs:{label:"Email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"==typeof t?t.trim():t)},expression:"user.email"}})],1)],1),e._v(" "),n("v-card-actions",{staticClass:"info-controls transparent"},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{light:""},on:{click:e.saveAccountInfo}},[e._v("Save")])],1)],1):e._e()],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[e.showProfileInfo?n("v-card",{staticClass:"profile-info"},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card-title",{staticClass:"info-title"},[e._v("Profile Info")])],1)],1),e._v(" "),n("v-layout",{staticClass:"info-fields"},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Title"},model:{value:e.itemEditing.profile.title,callback:function(t){e.$set(e.itemEditing.profile,"title","string"==typeof t?t.trim():t)},expression:"itemEditing.profile.title"}}),e._v(" "),n("v-text-field",{attrs:{label:"Tagline"},model:{value:e.itemEditing.profile.tagline,callback:function(t){e.$set(e.itemEditing.profile,"tagline","string"==typeof t?t.trim():t)},expression:"itemEditing.profile.tagline"}}),e._v(" "),n("v-text-field",{attrs:{textarea:"",label:"About Me"},model:{value:e.itemEditing.profile.description,callback:function(t){e.$set(e.itemEditing.profile,"description","string"==typeof t?t.trim():t)},expression:"itemEditing.profile.description"}})],1)],1),e._v(" "),n("v-card-actions",{staticClass:"info-controls transparent"},[n("editor-feedback",{attrs:{resource:"user-profile",autoCloseAfterMillis:5e3}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{light:""},on:{click:e.saveProfileInfo}},[e._v("Save")])],1)],1):e._e()],1)],1)},__vue_staticRenderFns__$2=[];__vue_render__$2._withStripped=!0;var __vue_inject_styles__$2=function(e){e&&e("data-v-038972a0_0",{source:"\n.controls .btn[data-v-038972a0] {\n  margin: 0 auto;\n}\n.info-title[data-v-038972a0] {\n  font-size: 23px;\n  padding: 12px;\n  margin-bottom: 10px;\n}\n.info-sub-heading[data-v-038972a0] {\n  text-align: left;\n  font-size: 16px;\n}\n.info-controls[data-v-038972a0] {\n  height: 69px;\n  margin: 40px 20px 0 20px;\n  padding: 20px 0 10px 0 !important;\n  border-top: 1px solid #d9d9d9 !important;\n}\n\n/* ------------ */\n/* Account Info */\n/* ------------ */\n.account-info[data-v-038972a0] {\n  background-color: #f2f2f2;\n  padding: 12px;\n  margin-bottom: 20px;\n  min-width: 500px;\n}\n.account-info .user-avatar[data-v-038972a0] {\n  margin-bottom: 40px;\n}\n\n/* ------------ */\n/* Profile Info */\n/* ------------ */\n.profile-info[data-v-038972a0] {\n  background-color: #f2f2f2;\n  padding: 12px;\n  margin-bottom: 20px;\n  min-width: 500px;\n}\n.profile-info .info-fields[data-v-038972a0] {\n  padding: 0 20px;\n}\n\n",map:{version:3,sources:["/Users/wmccraw/git_repos/manic_manifesto/vuestrap-client-app-user/src/components/LocalUserProfileEditor.vue"],names:[],mappings:";AA4GA;EACA,cAAA;AACA;AACA;EACA,eAAA;EACA,aAAA;EACA,mBAAA;AACA;AACA;EACA,gBAAA;EACA,eAAA;AACA;AACA;EACA,YAAA;EACA,wBAAA;EACA,iCAAA;EACA,wCAAA;AACA;;AAEA,iBAAA;AACA,iBAAA;AACA,iBAAA;AAEA;EACA,yBAAA;EACA,aAAA;EACA,mBAAA;EACA,gBAAA;AACA;AACA;EACA,mBAAA;AACA;;AAEA,iBAAA;AACA,iBAAA;AACA,iBAAA;AAEA;EACA,yBAAA;EACA,aAAA;EACA,mBAAA;EACA,gBAAA;AACA;AACA;EACA,eAAA;AACA",file:"LocalUserProfileEditor.vue",sourcesContent:['<template>\n  <v-layout row wrap class="local-user-profile-editor">\n\n    \x3c!-----------------------\x3e\n    \x3c!-- User Account Info --\x3e\n    \x3c!-----------------------\x3e\n    <v-flex xs12>\n      <v-card v-if="showAccountInfo" class="account-info">\n\n        <v-layout row>\n          <v-flex xs12>\n            <v-card-title class="info-title">Account Info</v-card-title>\n          </v-flex>\n        </v-layout>\n\n        <v-layout row>\n          <v-flex xs5>\n            <user-avatar v-bind:user="user" v-bind:size="200" />\n          </v-flex>\n          <v-flex xs5>\n            <v-text-field label="Username" v-model.trim="user.username" />\n            <v-text-field label="Display Name" v-model.trim="user.display_name" />\n            <v-text-field label="First Name" v-model.trim="user.first_name" />\n            <v-text-field label="Last Name" v-model.trim="user.last_name" />\n            <v-text-field label="Email" v-model.trim="user.email" />\n          </v-flex>\n        </v-layout>\n\n        <v-card-actions class="info-controls transparent">\n          <v-spacer />\n          <v-btn light v-on:click="saveAccountInfo">Save</v-btn>\n        </v-card-actions>\n\n      </v-card>\n    </v-flex>\n\n    \x3c!-----------------------\x3e\n    \x3c!-- User Profile Info --\x3e\n    \x3c!-----------------------\x3e\n    <v-flex xs12>\n      <v-card v-if="showProfileInfo" class="profile-info">\n\n        <v-layout row>\n          <v-flex xs12>\n            <v-card-title class="info-title">Profile Info</v-card-title>\n          </v-flex>\n        </v-layout>\n\n        <v-layout class="info-fields">\n          <v-flex xs12>\n            <v-text-field label="Title" v-model.trim="itemEditing.profile.title" />\n            <v-text-field label="Tagline" v-model.trim="itemEditing.profile.tagline" />\n            <v-text-field textarea label="About Me" v-model.trim="itemEditing.profile.description" />\n          </v-flex>\n        </v-layout>\n\n        <v-card-actions class="info-controls transparent">\n          <editor-feedback v-bind:resource="\'user-profile\'" v-bind:autoCloseAfterMillis="5000" />\n          <v-spacer />\n          <v-btn light v-on:click="saveProfileInfo">Save</v-btn>\n        </v-card-actions>\n\n      </v-card>\n    </v-flex>\n\n  </v-layout>\n</template>\n\n<script>\nexport default {\n  name: \'LocalUserProfileEditor\',\n\n  data() {\n    return {\n      itemEditing: this.user,\n    };\n  },\n\n  props: {\n    user: {\n      type: Object,\n      default: null,\n    },\n    showAccountInfo: {\n      type: Boolean,\n      default: true,\n    },\n    showProfileInfo: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  computed: {\n  },\n\n  methods: {\n    saveAccountInfo() {\n    },\n    saveProfileInfo() {\n      this.$store.dispatch(\'user/updateMyUserProfile\', this.itemEditing.profile);\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n\n  .controls .btn {\n    margin: 0 auto;\n  }\n  .info-title {\n    font-size: 23px;\n    padding: 12px;\n    margin-bottom: 10px;\n  }\n  .info-sub-heading {\n    text-align: left;\n    font-size: 16px;\n  }\n  .info-controls {\n    height: 69px;\n    margin: 40px 20px 0 20px;\n    padding: 20px 0 10px 0 !important;\n    border-top: 1px solid #d9d9d9 !important;\n  }\n\n  /* ------------ */\n  /* Account Info */\n  /* ------------ */\n\n  .account-info {\n    background-color: #f2f2f2;\n    padding: 12px;\n    margin-bottom: 20px;\n    min-width: 500px;\n  }\n  .account-info .user-avatar {\n    margin-bottom: 40px;\n  }\n\n  /* ------------ */\n  /* Profile Info */\n  /* ------------ */\n\n  .profile-info {\n    background-color: #f2f2f2;\n    padding: 12px;\n    margin-bottom: 20px;\n    min-width: 500px;\n  }\n  .profile-info .info-fields {\n    padding: 0 20px;\n  }\n\n</style>\n']},media:void 0})},__vue_scope_id__$2="data-v-038972a0",__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1,LocalUserProfileEditor=normalizeComponent_1({render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2},__vue_inject_styles__$2,__vue_script__$2,__vue_scope_id__$2,__vue_is_functional_template__$2,__vue_module_identifier__$2,browser,void 0),script$3={name:"EditorFeedback",props:{resource:{type:String,default:"user-profile"},autoCloseAfterMillis:{type:Number,default:0}},computed:{activeMessage:function(){var e=this,t=null;switch(this.resource){case"user-profile":t=this.$store.getters["user/userProfileEditingFeedback"]}return t&&this.autoCloseDelay&&setTimeout(function(){e.closeNotification()},this.autoCloseDelay),t},actionLink:function(){return this.activeMessage.action_link},autoCloseDelay:function(){return!!(this.autoCloseAfterMillis&&this.autoCloseAfterMillis>0)&&this.autoCloseAfterMillis},notificationIcon:function(){switch(this.activeMessage.severity){case"info":case"warning":return"info";case"error":return"warning";case"success":default:return"check_circle"}}},methods:{closeNotification:function(){if(this.activeMessage)switch(this.resource){case"user-profile":return this.$store.dispatch("user/resolveMessageForUserProfileEditing");default:return!1}return!1}}},__vue_script__$3=script$3,__vue_render__$3=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade-fast",mode:"out-in"}},[e.activeMessage?n("div",{staticClass:"editor-feedback",on:{click:function(t){return t.preventDefault(),e.closeNotification(t)}}},[n("v-toolbar",{staticClass:"message",attrs:{flat:"",light:"",dense:"",center:""}},[n("div",{staticClass:"feedback-icon"},[n("i",{staticClass:"material-icons"},[e._v(e._s(e.notificationIcon))])]),e._v(" "),n("div",{staticClass:"feedback-text"},[e._v("\n        "+e._s(e.activeMessage.text)+"\n      ")]),e._v(" "),e.actionLink?n("div",{staticClass:"col feedback-link"},[n("a",{attrs:{href:e.actionLink,target:"_blank"}})]):e._e()])],1):e._e()])},__vue_staticRenderFns__$3=[];__vue_render__$3._withStripped=!0;var __vue_inject_styles__$3=function(e){e&&e("data-v-44494933_0",{source:"\n.message[data-v-44494933] {\n  cursor: pointer;\n}\n.message .feedback-icon[data-v-44494933] {\n  margin-right: 7px;\n  margin-left: 24px !important;\n}\n.message .feedback-text[data-v-44494933] {\n  font-size: 16px;\n  margin-bottom: 4px;\n}\n.message .feedback-link[data-v-44494933] {}\n\n",map:{version:3,sources:["/Users/wmccraw/git_repos/manic_manifesto/vuestrap-client-app-user/src/components/ProfileEditorFeedback.vue"],names:[],mappings:";AAoFA;EACA,eAAA;AACA;AACA;EACA,iBAAA;EACA,4BAAA;AACA;AACA;EACA,eAAA;EACA,kBAAA;AACA;AACA,0CAAA",file:"ProfileEditorFeedback.vue",sourcesContent:["<template>\n  <transition name=\"fade-fast\" mode=\"out-in\">\n\n    <div v-if=\"activeMessage\" class=\"editor-feedback\" v-on:click.prevent=\"closeNotification\">\n      <v-toolbar class=\"message\" flat light dense center>\n        <div class=\"feedback-icon\">\n          <i class=\"material-icons\">{{ notificationIcon }}</i>\n        </div>\n        <div class=\"feedback-text\">\n          {{ activeMessage.text }}\n        </div>\n        <div v-if=\"actionLink\" class=\"col feedback-link\">\n          <a v-bind:href=\"actionLink\" target=\"_blank\"></a>\n        </div>\n      </v-toolbar>\n    </div>\n\n  </transition>\n</template>\n\n<script>\nexport default {\n  name: 'EditorFeedback',\n\n  props: {\n    resource: {\n      type: String,\n      default: 'user-profile',\n    },\n    autoCloseAfterMillis: {\n      type: Number,\n      default: 0,\n    },\n  },\n\n  computed: {\n    activeMessage() {\n      let message = null;\n\n      switch (this.resource) {\n        case 'user-profile': message = this.$store.getters['user/userProfileEditingFeedback']; break;\n      }\n\n      if (message && this.autoCloseDelay) {\n        setTimeout(() => {\n          this.closeNotification();\n        }, this.autoCloseDelay);\n      }\n\n      return message;\n    },\n    actionLink() {\n      return this.activeMessage.action_link;\n    },\n    autoCloseDelay() {\n      return (this.autoCloseAfterMillis && this.autoCloseAfterMillis > 0) ? this.autoCloseAfterMillis : false;\n    },\n    notificationIcon() {\n      switch (this.activeMessage.severity) {\n        case 'info': return 'info';\n        case 'warning': return 'info';\n        case 'error': return 'warning';\n        case 'success': return 'check_circle';\n        default: return 'check_circle';\n      }\n    },\n  },\n\n  methods: {\n    closeNotification() {\n      if (this.activeMessage) {\n        switch (this.resource) {\n          case 'user-profile': return this.$store.dispatch('user/resolveMessageForUserProfileEditing');\n          default: return false;\n        }\n      }\n      return false;\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n\n  .message {\n    cursor: pointer;\n  }\n  .message .feedback-icon {\n    margin-right: 7px;\n    margin-left: 24px !important;\n  }\n  .message .feedback-text {\n    font-size: 16px;\n    margin-bottom: 4px;\n  }\n  .message .feedback-link {}\n\n</style>\n"]},media:void 0})},__vue_scope_id__$3="data-v-44494933",__vue_module_identifier__$3=void 0,__vue_is_functional_template__$3=!1,ProfileEditorFeedback=normalizeComponent_1({render:__vue_render__$3,staticRenderFns:__vue_staticRenderFns__$3},__vue_inject_styles__$3,__vue_script__$3,__vue_scope_id__$3,__vue_is_functional_template__$3,__vue_module_identifier__$3,browser,void 0),script$4={name:"UserAvatar",props:{user:{type:Object,default:null},size:{type:Number,default:32},showDisplayName:{type:Boolean,default:!1},showUsername:{type:Boolean,default:!1}},computed:{avatarBaseStyle:function(){return"line-height: "+this.size+"px;"},avatarURL:function(){return this.user.avatar_url||"/static/img/icons/default-user-avatar.svg"},imageWrapperStyle:function(){return"height: "+this.size+"px; width: "+this.size+"px"},avatarImageClass:function(){return"avatar-image"},avatarImageStyle:function(){return"background-image: url("+this.avatarURL+")"}}},__vue_script__$4=script$4,__vue_render__$4=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("div",{staticClass:"user-avatar",style:e.avatarBaseStyle},[n("div",{staticClass:"image-wrapper",style:e.imageWrapperStyle},[n("div",{class:e.avatarImageClass,style:e.avatarImageStyle})]),e._v(" "),e.showDisplayName?n("div",{staticClass:"display-name"},[e._v("\n    "+e._s(e.user.display_name)+"\n  ")]):e._e()]):e._e()},__vue_staticRenderFns__$4=[];__vue_render__$4._withStripped=!0;var __vue_inject_styles__$4=function(e){e&&e("data-v-d484e520_0",{source:"\n.image-wrapper[data-v-d484e520] {\n  display: inline-block;\n  vertical-align: top;\n  user-select: none;\n}\n.avatar-image[data-v-d484e520] {\n  display: inline-block;\n  height: 100%;\n  width: 100%;\n  background-color: #fff;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  background-size: cover;\n  border-radius: 50%;\n}\n.display-name[data-v-d484e520] {\n  display: inline-block;\n  margin: 0 0 0 10px;\n}\n\n",map:{version:3,sources:["/Users/wmccraw/git_repos/manic_manifesto/vuestrap-client-app-user/src/components/UserAvatar.vue"],names:[],mappings:";AAgEA;EACA,qBAAA;EACA,mBAAA;EACA,iBAAA;AACA;AAEA;EACA,qBAAA;EACA,YAAA;EACA,WAAA;EACA,sBAAA;EACA,4BAAA;EACA,wBAAA;EACA,sBAAA;EACA,kBAAA;AACA;AAEA;EACA,qBAAA;EACA,kBAAA;AACA",file:"UserAvatar.vue",sourcesContent:['<template>\n  <div v-if="user" class="user-avatar" v-bind:style="avatarBaseStyle">\n\n    <div class="image-wrapper" v-bind:style="imageWrapperStyle">\n      <div v-bind:class="avatarImageClass"\n           v-bind:style="avatarImageStyle">\n      </div>\n    </div>\n\n    <div v-if="showDisplayName" class="display-name">\n      {{ user.display_name }}\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \'UserAvatar\',\n\n  props: {\n    user: {\n      type: Object,\n      default: null,\n    },\n    size: {\n      type: Number,\n      default: 32,\n    },\n    showDisplayName: {\n      type: Boolean,\n      default: false,\n    },\n    showUsername: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  computed: {\n    avatarBaseStyle() {\n      return `line-height: ${this.size}px;`;\n    },\n    avatarURL() {\n      // TODO: Rethink how to handle this logic !!!\n      // const existingURL = (this.size <= 50) ? this.user.avatar_thumb_url : this.user.avatar_url;\n      const existingURL = this.user.avatar_url;\n      return existingURL || \'/static/img/icons/default-user-avatar.svg\';\n    },\n    imageWrapperStyle() {\n      return `height: ${this.size}px; width: ${this.size}px`;\n    },\n    avatarImageClass() {\n      return \'avatar-image\';\n    },\n    avatarImageStyle() {\n      return `background-image: url(${this.avatarURL})`;\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n\n  .image-wrapper {\n    display: inline-block;\n    vertical-align: top;\n    user-select: none;\n  }\n\n  .avatar-image {\n    display: inline-block;\n    height: 100%;\n    width: 100%;\n    background-color: #fff;\n    background-repeat: no-repeat;\n    background-position: 50%;\n    background-size: cover;\n    border-radius: 50%;\n  }\n\n  .display-name {\n    display: inline-block;\n    margin: 0 0 0 10px;\n  }\n\n</style>\n']},media:void 0})},__vue_scope_id__$4="data-v-d484e520",__vue_module_identifier__$4=void 0,__vue_is_functional_template__$4=!1,UserAvatar=normalizeComponent_1({render:__vue_render__$4,staticRenderFns:__vue_staticRenderFns__$4},__vue_inject_styles__$4,__vue_script__$4,__vue_scope_id__$4,__vue_is_functional_template__$4,__vue_module_identifier__$4,browser,void 0),script$5={name:"UserMenu",directives:{ClickOutside:vueClickOutside},data:function(){return{show:!1,dropdownStyles:null}},props:{items:{type:Array,default:null},includeLogout:{type:Boolean,default:!0},useArrowIcon:{type:Boolean,default:!1},size:{type:Number,default:40}},computed:{activeUser:function(){return this.$store.getters["user/activeUser"]},showLogoutInMenu:function(){return this.activeUser.is_logged_in&&this.includeLogout},classes:function(){return["user-menu","dropdown",{show:this.show}]},styles:function(){return{height:this.size+"px",width:this.size+"px"}},hasSlotData:function(){return this.$slots.default}},mounted:function(){this.dropdownStyles=this.getDropdownStyles(),this.popupItem=this.$el},methods:{hide:function(){this.show=!1,this.$emit("userMenu/hideMenu")},toggle:function(){this.show=!this.show,this.$emit("userMenu/"+(this.show?"showMenu":"hideMenu"))},performLogout:function(){var e=this;this.$store.dispatch("auth/logoutUser").then(function(){e.$router.push("/")})},getDropdownStyles:function(){var e=this.offset(this.$el).left;return this.viewport().width-160<e?{right:0}:{left:0}},offset:function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}},viewport:function(){return{height:Math.max(document.documentElement.clientHeight,window.innerHeight||0),width:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}}}},__$_require_assets_icons_arrow_dropdown_svg__="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%20%20%20%20%3Cpath%20d%3D%22M7%2010l5%205%205-5z%22%2F%3E%20%20%20%20%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%3C%2Fsvg%3E",__$_require_assets_icons_menu_svg__="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%20%20%20%20%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%20%20%20%20%3Cpath%20d%3D%22M3%2018h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z%22%2F%3E%3C%2Fsvg%3E",__vue_script__$5=script$5,__vue_render__$5=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[e._t("default"),e._v(" "),e.hasSlotData?e._e():n("button",{staticClass:"user-menu-button",style:e.styles,on:{click:e.toggle}},[e.useArrowIcon?n("img",{staticClass:"user-menu-icon",attrs:{src:__$_require_assets_icons_arrow_dropdown_svg__}}):n("img",{staticClass:"user-menu-icon",attrs:{src:__$_require_assets_icons_menu_svg__}})]),e._v(" "),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"dropdown-menu",style:e.dropdownStyles},[e._l(e.items,function(t){return n("router-link",{key:t.name,staticClass:"dropdown-item",attrs:{to:{name:t.name}},nativeOn:{click:function(t){return e.hide(t)}}},[e._v("\n      "+e._s(t.label)+"\n    ")])}),e._v(" "),e.showLogoutInMenu?[n("span",{staticClass:"dropdown-divider"}),e._v(" "),n("a",{staticClass:"dropdown-item logout",on:{click:e.performLogout}},[e._v("Log Out")])]:e._e()],2)],2)},__vue_staticRenderFns__$5=[];__vue_render__$5._withStripped=!0;var __vue_inject_styles__$5=function(e){e&&e("data-v-39cc5d34_0",{source:"\n.user-menu-button[data-v-39cc5d34] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  outline: none;\n  border: none;\n  cursor: pointer;\n}\n.user-menu-icon[data-v-39cc5d34] {\n  height: 1.5rem;\n  width: 1.5rem;\n}\n.dropdown[data-v-39cc5d34] {\n  position: relative;\n}\n.dropdown-menu[data-v-39cc5d34] {\n  display: none;\n  float: left;\n  position: absolute;\n  left: auto;\n  right: auto;\n  min-width: 10rem;\n  margin-top: 3px;\n  padding: 0;\n  background-color: #ffffff;\n  border-radius: 3px;\n  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),\n              0 1px 10px 0 rgba(0, 0, 0, 0.10),\n              0 2px 4px -1px rgba(0, 0, 0, 0.08);\n  list-style: none;\n  text-align: left;\n  z-index: 999;\n}\n.dropdown-divider[data-v-39cc5d34] {\n  display: block;\n  height: 1px;\n  background-color: rgba(0,0,0,0.1);\n  overflow: hidden;\n}\n.dropdown-item[data-v-39cc5d34] {\n  display: block;\n  padding: .4rem 1rem;\n  background-color: transparent;\n  white-space: nowrap;\n}\n.dropdown-item.logout[data-v-39cc5d34] {\n  padding-bottom: .5rem;\n}\n.dropdown-item[data-v-39cc5d34]:hover {\n  background-color: #f8f9fa;\n}\n.show .dropdown-menu[data-v-39cc5d34] {\n  display: block;\n}\n",map:{version:3,sources:["/Users/wmccraw/git_repos/manic_manifesto/vuestrap-client-app-user/src/components/UserMenu.vue"],names:[],mappings:";AA8IA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,6BAAA;EACA,aAAA;EACA,YAAA;EACA,eAAA;AACA;AAEA;EACA,cAAA;EACA,aAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,aAAA;EACA,WAAA;EACA,kBAAA;EACA,UAAA;EACA,WAAA;EACA,gBAAA;EACA,eAAA;EACA,UAAA;EACA,yBAAA;EACA,kBAAA;EACA;;gDAEA;EACA,gBAAA;EACA,gBAAA;EACA,YAAA;AACA;AAEA;EACA,cAAA;EACA,WAAA;EACA,iCAAA;EACA,gBAAA;AACA;AAEA;EACA,cAAA;EACA,mBAAA;EACA,6BAAA;EACA,mBAAA;AACA;AAEA;EACA,qBAAA;AACA;AAEA;EACA,yBAAA;AACA;AAEA;EACA,cAAA;AACA",file:"UserMenu.vue",sourcesContent:['<template>\n  <div v-bind:class="classes">\n    <slot></slot>\n    <button class="user-menu-button" v-if="!hasSlotData"\n        v-bind:style="styles"\n        v-on:click="toggle">\n      <img class="user-menu-icon" src="../assets/icons/arrow-dropdown.svg" v-if="useArrowIcon" />\n      <img class="user-menu-icon" src="../assets/icons/menu.svg" v-else />\n    </button>\n    <div v-click-outside="hide"\n         v-bind:style="dropdownStyles"\n         class="dropdown-menu">\n      <router-link v-for="item in items"\n                   v-bind:key="item.name"\n                   v-bind:to="{ name: item.name }"\n                   v-on:click.native="hide"\n                   class="dropdown-item">\n        {{ item.label }}\n      </router-link>\n      <template v-if="showLogoutInMenu">\n        <span class="dropdown-divider" />\n        <a v-on:click="performLogout" class="dropdown-item logout">Log Out</a>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ClickOutside from \'vue-click-outside\';\n\nexport default {\n  name: \'UserMenu\',\n\n  directives: {\n    ClickOutside,\n  },\n\n  data() {\n    return {\n      show: false,\n      dropdownStyles: null,\n    };\n  },\n\n  props: {\n    items: {\n      type: Array,\n      default: null,\n    },\n    includeLogout: {\n      type: Boolean,\n      default: true,\n    },\n    useArrowIcon: {\n      type: Boolean,\n      default: false,\n    },\n    size: {\n      type: Number,\n      default: 40,\n    },\n  },\n\n  computed: {\n    activeUser() {\n      return this.$store.getters[\'user/activeUser\'];\n    },\n    showLogoutInMenu() {\n      return (this.activeUser.is_logged_in && this.includeLogout);\n    },\n    classes() {\n      return [\n        \'user-menu\',\n        \'dropdown\',\n        { show: this.show },\n      ];\n    },\n    styles() {\n      return {\n        height: `${this.size}px`,\n        width: `${this.size}px`,\n      };\n    },\n    hasSlotData() {\n      return this.$slots.default;\n    },\n  },\n\n  mounted() {\n    this.dropdownStyles = this.getDropdownStyles();\n\n    // prevent click outside event with popupItem.\n    this.popupItem = this.$el;\n  },\n\n  methods: {\n    hide() {\n      this.show = false;\n      this.$emit(\'userMenu/hideMenu\');\n    },\n\n    toggle() {\n      this.show = !this.show;\n      this.$emit(`userMenu/${this.show ? \'showMenu\' : \'hideMenu\'}`);\n    },\n\n    performLogout() {\n      this.$store.dispatch(\'auth/logoutUser\')\n        .then(() => { this.$router.push(\'/\'); });\n    },\n\n    getDropdownStyles() {\n      const xPos = this.offset(this.$el).left;\n\n      return this.viewport().width - 160 < xPos\n        ? { right: 0 }\n        : { left: 0 };\n    },\n\n    offset(el) {\n      const rect = el.getBoundingClientRect();\n      const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      return {\n        top: rect.top + scrollTop,\n        left: rect.left + scrollLeft,\n      };\n    },\n\n    viewport() {\n      const height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n      const width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n      return {\n        height,\n        width,\n      };\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n  .user-menu-button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: transparent;\n    outline: none;\n    border: none;\n    cursor: pointer;\n  }\n\n  .user-menu-icon {\n    height: 1.5rem;\n    width: 1.5rem;\n  }\n\n  .dropdown {\n    position: relative;\n  }\n\n  .dropdown-menu {\n    display: none;\n    float: left;\n    position: absolute;\n    left: auto;\n    right: auto;\n    min-width: 10rem;\n    margin-top: 3px;\n    padding: 0;\n    background-color: #ffffff;\n    border-radius: 3px;\n    box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),\n                0 1px 10px 0 rgba(0, 0, 0, 0.10),\n                0 2px 4px -1px rgba(0, 0, 0, 0.08);\n    list-style: none;\n    text-align: left;\n    z-index: 999;\n  }\n\n  .dropdown-divider {\n    display: block;\n    height: 1px;\n    background-color: rgba(0,0,0,0.1);\n    overflow: hidden;\n  }\n\n  .dropdown-item {\n    display: block;\n    padding: .4rem 1rem;\n    background-color: transparent;\n    white-space: nowrap;\n  }\n\n  .dropdown-item.logout {\n    padding-bottom: .5rem;\n  }\n\n  .dropdown-item:hover {\n    background-color: #f8f9fa;\n  }\n\n  .show .dropdown-menu {\n    display: block;\n  }\n</style>\n']},media:void 0})},__vue_scope_id__$5="data-v-39cc5d34",__vue_module_identifier__$5=void 0,__vue_is_functional_template__$5=!1,UserMenu=normalizeComponent_1({render:__vue_render__$5,staticRenderFns:__vue_staticRenderFns__$5},__vue_inject_styles__$5,__vue_script__$5,__vue_scope_id__$5,__vue_is_functional_template__$5,__vue_module_identifier__$5,browser,void 0),pluginName="client-app-user",defaultNamespace="user",componentNameExternalUserProfileEditor="external-user-profile-editor",componentNameLanguagePicker="language-picker",componentNameLocalUserProfileEditor="local-user-profile-editor",componentNameProfileEditorFeedback="profile-editor-feedback",componentNameUserAvatar="user-avatar",componentNameUserMenu="user-menu";function install(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.logInit&&!0===t.logInit,r=t.debug&&!0===t.debug,a=t.debugInit&&!0===t.debugInit,i=t.debugRequests&&!0===t.debugRequests,o=t.debugNormalizer&&!0===t.debugNormalizer,s=t.namespace||defaultNamespace,l=t.syncMode&&!0===t.syncMode,c=t.api||{},u=t.user||{},_=t.userProfile,f=t.userPrefs,d=t.hydrateUserOn,p=t.clearUserOn,g={apiSettings:c,userSettings:u,userProfileSettings:_,userPrefsSettings:f};if(n&&console.log('Vue is being bootstrapped with "'+pluginName+'"'),t.store){var v=generateStore({debug:r,debugInit:a,debugRequests:i,debugNormalizer:o,pluginName:pluginName,syncMode:l,initSettings:g});if(t.store.registerModule(s,v),d||p){var b=d||"_",A=p||"_";t.store.subscribe(function(e){var n=e.type,a=e.payload;switch(n){case b:r&&console.log("["+pluginName+"] Triggered hydrate user on:",b),t.store.dispatch("user/hydrateUser",a);break;case A:r&&console.log("["+pluginName+"] Triggered clear user on:",A),t.store.dispatch("user/clearActiveUser",a)}})}}e.component(componentNameExternalUserProfileEditor,ExternalUserProfileEditor),e.component(componentNameLanguagePicker,LanguagePicker),e.component(componentNameLocalUserProfileEditor,LocalUserProfileEditor),e.component(componentNameProfileEditorFeedback,ProfileEditorFeedback),e.component(componentNameUserAvatar,UserAvatar),e.component(componentNameUserMenu,UserMenu)}module.exports=install;
